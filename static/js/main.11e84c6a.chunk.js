(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{191:function(e,t,a){},222:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},243:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(49),r=a.n(c),s=(a(191),a(11)),i=a(17),o=a.n(i),l=a(14),d=a(261),u=a(263),j=a(256),b=a(13),p=a(101),g=a(10),m=a(9),O=a(255),h=a(264),f=a(266),x=a(1),y=function(e){var t=e.loading,a=e.visible,n=e._id,c=e.choice,r=e.product,s=e.handleDeleteProduct,i=e.handleChangeChoice,o=e.handleChangeVisibility,l=e.setSelectedProduct,d=e.setOpenEditProductModal,u=e.setOpenUpdateImageModal;return Object(x.jsxs)("div",{className:"adminbuttons",children:[Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return s(n)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){l(r),d(!0)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:a?"hide":"unhide",size:"large",onClick:function(){return o(r)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"heart",size:"large",color:c?"red":"grey",onClick:function(){return i(r)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){l(r),u(!0)}})]})},v=a(96),C=a(143),k=(a(222),"https://inde-piuma.herokuapp.com"),M="piuma",S=function(e){var t=e.product,a=(e._id,e.name),n=e.type,c=e.region,r=e.description,s=e.price,i=e.category,o=(e.subCategory,e.choice),d=e.visible,u=e.image,j=e.user,p=e.setOpenImageModal,O=e.setSelectedProduct,h=Object(l.f)(),y=navigator.language||navigator.userLanguage,k={get:function(e,t){return((JSON.parse(localStorage.getItem("translations"))||{})[t]||{})[e]},set:function(e,t,a){var n=JSON.parse(localStorage.getItem("translations"))||Object(v.a)({},t,{});n[t]=Object(b.a)(Object(b.a)({},n[t]),{},Object(v.a)({},e,a)),localStorage.setItem("translations",JSON.stringify(n))}};return Object(x.jsxs)("div",{id:a,className:"productitem",style:{display:d||j?"":"none",border:decodeURI(h.location.hash.replace("#",""))===a?"3px solid darkred":""},children:[Object(x.jsxs)("div",{className:"productitem-header",children:[Object(x.jsxs)(f.a,{as:"h3",style:"cave"===n&&"rouges"===i?{color:"darkred"}:"cave"===n&&"roses"===i?{color:"#fec5d9"}:"cave"===n&&"blancs"===i?{color:"#f1f285"}:{color:""},children:[d?"":"Cach\xe9 : ",a,u&&Object(x.jsx)(m.a,{style:{color:"white",margin:8},icon:g.s,onClick:function(){O(t),p(!0)}}),o&&Object(x.jsx)(m.a,{className:"bosschoice alvp__icon",icon:g.l,style:{"--fa-primary-color":"darkred","--fa-secondary-color":"transparent"},size:"2x"})]}),"cave"===n&&"verre de vin"!==a.toLowerCase()?Object(x.jsxs)("span",{className:"price",children:[s.toFixed(2)-7,Object(x.jsx)("small",{children:"\u20ac"})]}):Object(x.jsxs)("span",{className:"price",children:[s.toFixed(2),Object(x.jsx)("small",{children:"\u20ac"})]})]}),c&&Object(x.jsxs)("div",{className:"region-wrapper",children:[Object(x.jsx)("div",{className:"region",children:c}),"cave"===n&&"verre de vin"!==a.toLowerCase()&&Object(x.jsxs)("span",{className:"region",children:["Sur place : ".concat(s.toFixed(2)),Object(x.jsx)("small",{children:"\u20ac"})]})]}),r&&Object(x.jsx)(C.b,{cacheProvider:k,from:"fr",to:y.substr(0,2),googleApiKey:"AIzaSyAZaWwVgn5z9gNPy0cbweEVGUeWwva5GGM",children:Object(x.jsx)("p",{className:"description",children:Object(x.jsx)(C.a,{children:r})})})]})},w=a(259),P=a(258),A=function(e){var t=e.dropdownValue,a=e.subCategories,n=e.activeMenu,c=e.setActiveMenu,r=e.setDropdownValue,s=e.products;return Object(x.jsx)(w.a,{compact:!0,borderless:!0,icon:"labeled",className:"categories-menu",style:{position:"relative"},children:a.map((function(e){return Object(x.jsx)(x.Fragment,{children:e.subCat?Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)("sup",{style:{position:"absolute",top:9,right:3,zIndex:10},children:Object(x.jsx)("span",{className:"badge",children:s&&s.filter((function(t){return t.category===e.slug&&t.visible})).length})}),Object(x.jsx)(P.a,{className:n===e.slug?"categories-dropdown active":"categories-dropdown",item:!0,icon:e.icon,text:e.name,onClick:function(){return c(e.slug)},children:Object(x.jsx)(P.a.Menu,{direction:"blancs"===n&&"blancs"===e.slug&&"left",children:e.subCat.map((function(e){return Object(x.jsx)(P.a.Item,{active:t===e.slug,onClick:function(t){return r(e.slug)},children:Object(x.jsxs)("span",{className:"dropdown-menuitem",children:[e.name,Object(x.jsx)("span",{className:"badge",children:s&&s.filter((function(t){return t.subCategory===e.slug&&t.visible})).length})]})},e.slug)}))})},e.slug)]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(w.a.Item,{style:{position:"relative"},className:"menu-items",active:n===e.slug,onClick:function(){return c(e.slug)},children:[Object(x.jsx)(w.a.Header,{children:e.icon}),e.name,Object(x.jsx)("sup",{style:{position:"absolute",top:9,right:3},children:Object(x.jsx)("span",{className:"badge top-menu",children:s&&s.filter((function(t){return t.category===e.slug&&t.visible})).length})})]},e.slug)})})}))})},z=[{name:"Aujourd'hui",slug:"aujourd'hui",icon:Object(x.jsx)(m.a,{size:"4x",icon:g.v,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})},{name:"L'\xc9picerie",slug:"epicerie",icon:Object(x.jsx)(m.a,{size:"4x",icon:g.a,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Les Sal\xe9s",slug:"sal\xe9s-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.g,style:{"--fa-primary-color":"darkred"}})},{name:"Les Petits Pots",slug:"pots-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.j,style:{"--fa-primary-color":"darkred"}})},{name:"Les Huiles et Vinaigres",slug:"huile-et-vinaigres-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.m,style:{"--fa-primary-color":"darkred"}})},{name:"Les Assaisonements",slug:"assaisonements-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.q,style:{"--fa-primary-color":"darkred"}})},{name:"Les Terrines",slug:"terrines-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.o,style:{"--fa-primary-color":"darkred"}})},{name:"Les Charcuteries",slug:"charcuteries-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.r,style:{"--fa-primary-color":"darkred"}})},{name:"Les Fromages",slug:"fromages-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.d,style:{"--fa-primary-color":"darkred"}})},{name:"Les Douceurs",slug:"douceurs-p",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.e,style:{"--fa-primary-color":"darkred"}})}]},{name:"Assiettes \xe0 composer",slug:"spuntinu",details:"\xc0 partir de 18h",icon:Object(x.jsx)(m.a,{size:"4x",icon:g.o,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Les Sal\xe9s",slug:"sal\xe9s",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.g,style:{"--fa-primary-color":"darkred"}})},{name:"Les Petits Pots",slug:"pots",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.j,style:{"--fa-primary-color":"darkred"}})},{name:"Les Terrines",slug:"terrines",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.o,style:{"--fa-primary-color":"darkred"}})},{name:"Les Charcuteries",slug:"charcuteries",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.r,style:{"--fa-primary-color":"darkred"}})},{name:"Les Fromages",slug:"fromages",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.d,style:{"--fa-primary-color":"darkred"}})},{name:"Les Douceurs",slug:"douceurs",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.e,style:{"--fa-primary-color":"darkred"}})}]},{name:"La Cave",slug:"cave",icon:Object(x.jsx)(m.a,{icon:g.x,size:"4x",style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Vins Rouges",slug:"rouges",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.x,style:{"--fa-primary-color":"darkred"}})},{name:"Vins Ros\xe9s",slug:"roses",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.x,style:{"--fa-primary-color":"#fec5d9"}})},{name:"Vins Blancs",slug:"blancs",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.x,style:{"--fa-primary-color":"#f1f285"}})},{name:"Les Champagnes",slug:"champagnes",icon:Object(x.jsx)(m.a,{size:"3x",icon:g.h,style:{"--fa-primary-color":"white"}})}]},{name:"Les Bi\xe8res",slug:"bieres",icon:Object(x.jsx)(m.a,{size:"4x",icon:g.c,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})},{name:"Les Softs",slug:"softs",icon:Object(x.jsx)(m.a,{size:"4x",icon:g.i,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})}],I=(a(228),["image"]),F=["image"],E=function(e){var t,a,c=e.setFilteredProducts,r=e.selectedCategory,i=e.dropdownValue,d=e.activeMenu,u=e.setActiveMenu,v=e.setDropdownValue,C=e.products,w=e.filteredProducts,P=e.user,E=e.setOpenAddProductModal,L=e.setProducts,N=e.setOpenLoginModal,D=e.setSelectedProduct,_=e.setOpenEditProductModal,V=e.setOpenImageModal,R=e.setOpenUpdateImageModal,U=(Object(l.g)(),r.name),B=r.subCategories,T=r.details,q=Object(n.useState)(!1),J=Object(s.a)(q,2),G=J[0],H=J[1],W=("vins"===r.slug&&((null===r||void 0===r||null===(t=r.subCategories[0])||void 0===t?void 0:t.subCat.find((function(e){e.name;return e.slug===i})))||(null===r||void 0===r||null===(a=r.subCategories[2])||void 0===a||a.subCat.find((function(e){e.name;return e.slug===i})))),Object(n.useRef)());Object(n.useEffect)((function(){W.current=i}));W.current;Object(n.useEffect)((function(){c(C.filter((function(e){return e.type===r.slug})))}),[C]),Object(n.useEffect)((function(){v(""),d&&c(null===C||void 0===C?void 0:C.filter((function(e){return e.category===d})))}),[d]),Object(n.useEffect)((function(){i&&(v(i),c(null===C||void 0===C?void 0:C.filter((function(e){return e.subCategory===i}))))}),[i]);var K=localStorage.getItem("token-".concat(M)),Y=function(e){K?(H(!0),o()({method:"delete",url:"".concat(k,"/api/products/deleteProduct"),data:{productId:e},headers:{Authorization:"Bearer "+K}}).then((function(e){return L(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return H(!1)}))):N(!0)},Z=function(e){e.image;var t=Object(p.a)(e,I);t.visible=!e.visible,K?(H(!0),o()({method:"post",url:"".concat(k,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+K}}).then((function(e){return L(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return H(!1)}))):N(!0)},Q=function(e){e.image;var t=Object(p.a)(e,F);t.choice=!e.choice,K?(H(!0),o()({method:"post",url:"".concat(k,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+K}}).then((function(e){return L(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return H(!1)}))):N(!0)};return Object(x.jsxs)(O.a,{className:"categories",children:[P&&Object(x.jsx)("div",{children:Object(x.jsx)(h.a,{color:"green",circular:!0,size:"medium",onClick:function(){return E(!0)},children:Object(x.jsx)(m.a,{icon:g.p,size:"2x"})})}),Object(x.jsxs)(f.a,{className:"categories-header",style:{color:"white"},as:"h2",children:[Object(x.jsx)("span",{style:{textDecoration:"underline"},children:U}),T&&Object(x.jsx)("p",{style:{color:"black",fontSize:"0.5em",textDecoration:""},children:T})]}),d&&Object(x.jsx)(f.a,{className:"categories-header",as:"h3",style:"rouges"===d?{color:"darkred"}:"roses"===d?{color:"#fec5d9"}:"blancs"===d?{color:"#f1f285"}:{color:"white"},children:z.filter((function(e){var t;return null===e||void 0===e||null===(t=e.subCategories)||void 0===t?void 0:t.find((function(e){return e.slug===d}))}))[0].subCategories.find((function(e){return e.slug===d})).name}),Object(x.jsx)(j.a,{hidden:!0}),B&&Object(x.jsx)(A,{products:C,dropdownValue:i,subCategories:B,activeMenu:d,setActiveMenu:u,setDropdownValue:v}),Object(x.jsx)(j.a,{hidden:!0}),Object(x.jsx)("div",{className:"products",children:null===w||void 0===w?void 0:w.sort((function(e,t){return e.price-t.price})).sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:t.name.toLowerCase()>e.name.toLowerCase()?-1:0})).sort((function(e,t){return t.choice-e.choice})).map((function(e){return Object(x.jsxs)(x.Fragment,{children:[P&&Object(x.jsx)(y,Object(b.a)(Object(b.a)({loading:G},e),{},{product:e,handleDeleteProduct:Y,handleChangeVisibility:Z,handleChangeChoice:Q,setSelectedProduct:D,setOpenEditProductModal:_,setOpenUpdateImageModal:R})),Object(x.jsx)(S,Object(b.a)(Object(b.a)({product:e},e),{},{user:P,setOpenImageModal:V,setSelectedProduct:D}),e._id)]})}))}),Object(x.jsx)(j.a,{hidden:!0}),B&&w.length>1&&Object(x.jsx)(A,{products:C,dropdownValue:i,subCategories:B,activeMenu:d,setActiveMenu:u,setDropdownValue:v})]})},L=(a(229),a(230),a(175)),N=a(176),D=function(e){var t,a,c,r,i=e.user,l=e.event,d=e.setEvent,u=e.setOpenAddEventModal,j=e.setSelectedCategory,b=e.setActiveMenu,p=e.products,y=e.setOpenLoginModal,v=Object(n.useState)(!1),C=Object(s.a)(v,2),S=C[0],w=C[1],P=localStorage.getItem("token-".concat(M)),A=Object(n.useState)(0),I=Object(s.a)(A,2),F=I[0],E=I[1],D=localStorage.getItem("".concat(M,"-event"));Object(n.useEffect)((function(){E(l.like),D&&D!==l._id&&l._id&&localStorage.removeItem("".concat(M,"-event"))}),[l]);var _=function(){return function(e){for(var t,a=e.length;0!==a;){t=Math.floor(Math.random()*a),a--;var n=[e[t],e[a]];e[a]=n[0],e[t]=n[1]}return e.slice(0,6)}(null===p||void 0===p?void 0:p.filter((function(e){return e.image})))},V=function(e){return z.find((function(t){return t.slug===e}))},R=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)},U="data:".concat(null===(t=l.image)||void 0===t?void 0:t.contentType,";base64,"),B=R(null===(a=l.image)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.data);return Object(x.jsxs)(O.a,{className:"home",children:[i&&Object(x.jsxs)("div",{className:"home-addbutton",children:[l&&0===Object.keys(l).length&&Object(x.jsx)(h.a,{loading:S,disabled:S,color:"green",circular:!0,size:"medium",onClick:function(){return u(!0)},children:Object(x.jsx)(m.a,{icon:g.p,size:"2x"})}),l&&Object.keys(l).length>0&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(h.a,{loading:S,disabled:S,color:"red",circular:!0,size:"medium",onClick:function(){return e=l._id,void(P?(w(!0),o()({method:"delete",url:"".concat(k,"/api/events/deleteEvent"),data:{eventId:e},headers:{Authorization:"Bearer "+P}}).then((function(e){return d({})})).catch((function(e){return console.log(e)})).finally((function(){return w(!1)}))):y(!0));var e},children:Object(x.jsx)(m.a,{icon:g.u,size:"2x"})})})]}),l&&Object.keys(l).length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{className:"home-header",as:"h1",children:l.name}),Object(x.jsxs)(O.a,{text:!0,className:"home-presentation",children:[l.image&&Object(x.jsx)("div",{children:Object(x.jsx)("img",{style:{width:"100%"},src:U+B,alt:l.name})}),l.date&&Object(x.jsx)("p",{children:"Le :\n                ".concat(new Date(l.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}))}),Object(x.jsx)("p",{children:l.description}),Object(x.jsxs)("div",{className:"home-like-button",children:[Object(x.jsx)(h.a,{disabled:!!D,icon:!0,circular:!0,color:"facebook",onClick:function(){D||(localStorage.setItem("".concat(M,"-event"),l._id),o()({method:"post",url:"".concat(k,"/api/events/updateLikes"),data:{_id:l._id}}),E(F+1))},children:Object(x.jsx)(m.a,{size:"1x",icon:g.t,style:{"--fa-secondary-color":"white","--fa-secondary-opacity":1}})}),Object(x.jsx)("span",{style:{background:"transparent",color:"white",borderRadius:50,display:"inline-block",padding:"5px 10px"},children:F})]})]})]}),l&&0===Object.keys(l).length&&Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:p&&((null===(r=_())||void 0===r?void 0:r.length)>0?Object(x.jsx)(L.Carousel,{showArrows:!0,showThumbs:!1,infiniteLoop:!0,children:_().map((function(e){var t,a,n;return Object(x.jsxs)("div",{children:[e.choice&&Object(x.jsx)(m.a,{className:"choisen alvp__icon",icon:g.l,style:{"--fa-primary-color":"darkred","--fa-secondary-color":"transparent"},size:"2x"}),Object(x.jsx)("img",{src:"data:".concat(null===e||void 0===e||null===(t=e.image)||void 0===t?void 0:t.contentType,";base64,")+R(null===(a=e.image)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.data),alt:e.name}),Object(x.jsxs)(N.a,{smooth:!0,to:"/categories/".concat(V(e.type).slug,"#").concat(e.name),onClick:function(){j(V(e.type)),b(e.category)},children:[Object(x.jsx)("p",{className:"legend",children:e.name}),Object(x.jsxs)("p",{className:"legend price",children:[e.price," ",Object(x.jsx)("small",{children:"\u20ac"})]})]})]})}))}):Object(x.jsx)("img",{height:"280px",src:"./assets/images/logo.png",alt:"logo RDR"}))})]})},_=a(91),V=a.n(_),R=a(124),U=a(262),B=a(93),T=a(260),q=a(79),J=a.n(q),G=function(e){var t=e.setEvent,a=e.setAppMessage,c=e.setOpenLoginModal,r=e.openAddEventModal,i=e.setOpenAddEventModal,l=Object(n.useState)({name:"",description:"",date:"",like:0,image:""}),d=Object(s.a)(l,2),u=d[0],j=d[1],p=new Date,g=Object(n.useState)(!1),m=Object(s.a)(g,2),O=m[0],y=m[1],v=function(e){var t={};t[e.target.name]=e.target.value,j(Object(b.a)(Object(b.a)({},u),t))},C=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.a.imageFileResizer(t.target.files[0],500,500,"JPEG",100,0,(function(e){j(Object(b.a)(Object(b.a)({},u),{},{image:e}))}),"file");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(n.useRef)(null),w=localStorage.getItem("token-".concat(M));return Object(x.jsxs)(U.a,{closeIcon:!0,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:r,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(B.a,{name:"add"}),"Ajouter un Evenement"]}),Object(x.jsx)(U.a.Content,{children:Object(x.jsxs)(T.a,{onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("name",u.name),n.append("description",u.description||""),n.append("date",u.date||""),n.append("like",0),n.append("image",u.image||""),w?(y(!0),o()({method:"post",url:"".concat(k,"/api/events/createEvent"),data:n,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+w}}).then((function(e){e&&200===e.data.status&&(t(e.data.data),j({name:"",description:"",date:"",like:0,image:""})),a({success:200===e.data.status,message:e.data.message})})).then((function(){i(!1)})).catch((function(e){return a({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){y(!1)}))):c(!0)},id:"addEvent-form",children:[Object(x.jsxs)(T.a.Field,{required:!0,error:!u.name,children:[Object(x.jsx)("label",{children:"Nom de l'evenement"}),Object(x.jsx)("input",{value:u.name,name:"name",type:"text",onChange:function(e){return v(e)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:u.description,name:"description",rows:"5",cols:"33",onChange:function(e){return v(e)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"Date de l'evenement"}),Object(x.jsx)("input",{value:u.date,name:"date",type:"date",min:p.toISOString().split("T")[0],onChange:function(e){return v(e)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("input",{ref:S,accept:"image/*",id:"addEventImage",files:u.image,type:"file",hidden:!0,onChange:function(e){return C(e)}}),Object(x.jsx)(h.a,{disabled:O,loading:O,type:"button",onClick:function(){return S.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(x.jsxs)(U.a.Actions,{children:[Object(x.jsxs)(h.a,{disabled:O||!u.name,loading:O,color:"green",type:"submit",form:"addEvent-form",inverted:!0,children:[Object(x.jsx)(B.a,{name:"add"})," Ajouter"]}),Object(x.jsxs)(h.a,{disabled:O,loading:O,color:"red",type:"submit",form:"addEvent-form",inverted:!0,onClick:function(){return i(!1)},children:[Object(x.jsx)(B.a,{name:"remove"})," Annuler"]})]})]})},H=a(257),W=function(e){var t=e.selectedCategory,a=e.setAppMessage,c=e.openAddProductModal,r=e.setOpenAddProductModal,i=e.setOpenLoginModal,l=e.setProducts,d=Object(n.useState)({name:"",region:"",description:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:""}),u=Object(s.a)(d,2),j=u[0],p=u[1],g=Object(n.useState)(!1),m=Object(s.a)(g,2),O=m[0],y=m[1],v=Object(n.useRef)(null);Object(n.useEffect)((function(){p(Object(b.a)(Object(b.a)({},j),{},{type:t.slug}))}),[t]);var C=function(e){var t={};t[e.target.name]=e.target.value,p(Object(b.a)(Object(b.a)({},j),t))},S=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.a.imageFileResizer(t.target.files[0],200,200,"JPEG",100,0,(function(e){p(Object(b.a)(Object(b.a)({},j),{},{image:e}))}),"file");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=localStorage.getItem("token-".concat(M));return Object(x.jsxs)(U.a,{onClose:function(){return r(!1)},onOpen:function(){return r(!0)},open:c,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(B.a,{name:"add"}),"Ajouter un Produit"]}),Object(x.jsx)(U.a.Content,{children:Object(x.jsxs)(T.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",j.name),t.append("description",j.description||""),t.append("region",j.region||""),t.append("price",j.price),t.append("type",j.type),t.append("category",j.category||""),t.append("subCategory",j.subCategory||""),t.append("choice",j.choice||!1),t.append("visible",j.visible||!0),t.append("image",j.image||""),w?(y(!0),o()({method:"post",url:"".concat(k,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+w}}).then((function(e){e&&200===e.data.status&&(l(e.data.data),p({name:"",region:"",description:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:""})),a({success:200===e.data.status,message:e.data.message})})).then((function(){r(!1)})).catch((function(e){return a({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){y(!1)}))):i(!0)},id:"addProduct-form",children:[Object(x.jsxs)(T.a.Field,{required:!0,error:!j.name,children:[Object(x.jsx)("label",{children:"Nom du Produit"}),Object(x.jsx)("input",{value:j.name,name:"name",type:"text",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:j.description,name:"description",rows:"5",cols:"33",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"R\xe9gion"}),Object(x.jsx)("input",{value:j.region,name:"region",type:"text",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(T.a.Field,{required:!0,error:!j.price,children:[Object(x.jsx)("label",{children:"Prix"}),Object(x.jsx)("input",{min:1,step:.1,value:j.price,name:"price",type:"number",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(T.a.Field,{required:!0,error:!j.type,children:[Object(x.jsx)("label",{children:"Type de Produit"}),z.map((function(e){return e.slug&&Object(x.jsx)(H.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=j.type;t=e,p(Object(b.a)(Object(b.a)({},j),{},{type:t}))}(e.slug)},checked:j.type===e.slug},e.slug)}))]}),("cave"===j.type||"spuntinu"===j.type||"epicerie"===j.type)&&Object(x.jsxs)(T.a.Field,{required:!0,error:!j.category,children:[Object(x.jsx)("label",{children:"Categorie de Produit"}),z.map((function(e){var t;return e.slug===j.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(H.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=j.category;t=e,p(Object(b.a)(Object(b.a)({},j),{},{category:t}))}(e.slug)},checked:j.category===e.slug},e.slug)})))}))]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"Choix du Patron ?"}),Object(x.jsx)(H.a,{toggle:!0,checked:j.choice,onChange:function(){return p(Object(b.a)(Object(b.a)({},j),{},{choice:!j.choice}))}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("input",{ref:v,accept:"image/*",id:"addImage",files:j.image,type:"file",hidden:!0,onChange:function(e){return S(e)}}),Object(x.jsx)(h.a,{disabled:O,loading:O,type:"button",onClick:function(){return v.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(x.jsxs)(U.a.Actions,{children:[Object(x.jsxs)(h.a,{disabled:O||!j.name||!j.price||!j.type||("cave"===j.type||"spuntinu"===j.type||"epicerie"===j.type)&&!j.category,loading:O,color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(x.jsx)(B.a,{name:"add"})," Ajouter"]}),Object(x.jsxs)(h.a,{disabled:O,loading:O,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return r(!1)},children:[Object(x.jsx)(B.a,{name:"remove"})," Annuler"]})]})]})},K=["image"],Y=function(e){var t=e.product,a=e.setOpenEditProductModal,c=e.openEditProductModal,r=e.setOpenLoginModal,i=e.setAppMessage,l=e.setProducts,d=(t.image,Object(p.a)(t,K)),u=Object(n.useState)({name:d.name,region:d.region,description:d.description,price:d.price,type:d.type,category:d.category,subCategory:d.subCategory,choice:d.choice,visible:d.visible}),j=Object(s.a)(u,2),g=j[0],m=j[1],O=Object(n.useState)(!1),y=Object(s.a)(O,2),v=y[0],C=y[1];Object(n.useEffect)((function(){m(Object(b.a)({},d))}),[t]);var S=function(e){var t={};t[e.target.name]=e.target.value,m(Object(b.a)(Object(b.a)({},g),t))},w=localStorage.getItem("token-".concat(M));Object(n.useEffect)((function(){"rouges"===g.category&&"blancs"===g.category||m(Object(b.a)(Object(b.a)({},g),{},{subCategory:""}))}),[g.category]);return Object(x.jsxs)(U.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:c,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(B.a,{name:"edit"}),"Editer ",d.name]}),Object(x.jsx)(U.a.Content,{children:Object(x.jsxs)(T.a,{onSubmit:function(e){e.preventDefault(),w?(C(!0),o()({method:"post",url:"".concat(k,"/api/products/updateProduct"),data:{update:g,productId:d._id},headers:{Authorization:"Bearer "+w}}).then((function(e){e&&200===e.data.status&&l(e.data.data),i({success:200===e.data.status,message:e.data.message})})).catch((function(e){i({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){C(!1),a(!1)}))):(a(!1),r(!0))},id:"editProduct-form",children:[Object(x.jsxs)(T.a.Field,{required:!0,error:!g.name,children:[Object(x.jsx)("label",{children:"Nom du Produit"}),Object(x.jsx)("input",{value:g.name,name:"name",type:"text",onChange:function(e){return S(e)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:g.description,name:"description",rows:"5",cols:"33",onChange:function(e){return S(e)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"R\xe9gion"}),Object(x.jsx)("input",{value:g.region,name:"region",type:"text",onChange:function(e){return S(e)}})]}),Object(x.jsxs)(T.a.Field,{required:!0,error:!g.price,children:[Object(x.jsx)("label",{children:"Prix"}),Object(x.jsx)("input",{min:1,step:.1,value:g.price,name:"price",type:"number",onChange:function(e){return S(e)}})]}),Object(x.jsxs)(T.a.Field,{required:!0,error:!g.type,children:[Object(x.jsx)("label",{children:"Type de Produit"}),z.map((function(e){return e.slug&&Object(x.jsx)(H.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=g.type;t=e,m(Object(b.a)(Object(b.a)({},g),{},{type:t}))}(e.slug)},checked:g.type===e.slug},e.slug)}))]}),("cave"===g.type||"spuntinu"===g.type||"epicerie"===t.type)&&Object(x.jsxs)(T.a.Field,{required:!0,error:!g.category,children:[Object(x.jsx)("label",{children:"Categorie de Produit"}),z.map((function(e){var t;return e.slug===g.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(H.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=g.category;t=e,m(Object(b.a)(Object(b.a)({},g),{},{category:t}))}(e.slug)},checked:g.category===e.slug},e.slug)})))}))]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"Choix du Patron ?"}),Object(x.jsx)(H.a,{toggle:!0,checked:g.choice,onChange:function(){return m(Object(b.a)(Object(b.a)({},g),{},{choice:!g.choice}))}})]})]})}),Object(x.jsxs)(U.a.Actions,{children:[Object(x.jsxs)(h.a,{disabled:v||!g.name||!g.price||!g.type||("cave"===g.type||"spuntinu"===g.type||"epicerie"===t.type)&&!g.category,loading:v,color:"purple",type:"submit",form:"editProduct-form",inverted:!0,children:[Object(x.jsx)(B.a,{name:"edit"})," Editer"]}),Object(x.jsxs)(h.a,{disabled:v,loading:v,color:"red",type:"submit",form:"editProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(x.jsx)(B.a,{name:"remove"})," Annuler"]})]})]})},Z=function(e){var t,a=e.openImageModal,n=e.setOpenImageModal,c=e.product,r=c.image,s=c.name,i="data:".concat(null===r||void 0===r?void 0:r.contentType,";base64,"),o=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.data);return Object(x.jsxs)(U.a,{closeIcon:!0,basic:!0,open:a,onClose:function(){return n(!1)},children:[Object(x.jsx)(f.a,{children:s}),Object(x.jsx)(U.a.Content,{children:Object(x.jsx)("img",{style:{width:"100%"},src:i+o,alt:s})})]})},Q=function(e){var t=e.setOpenLoginModal,a=e.openLoginModal,c=e.setUser,r=e.setAppMessage,i=Object(n.useState)(""),l=Object(s.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),p=b[0],g=b[1],m=Object(n.useState)(!1),O=Object(s.a)(m,2),y=O[0],v=O[1];return Object(x.jsxs)(U.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:a,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(B.a,{name:"user"}),"Se Connecter"]}),Object(x.jsx)(U.a.Content,{children:Object(x.jsxs)(T.a,{onSubmit:function(e){e.preventDefault(),v(!0),o()({method:"post",url:"".concat(k,"/auth/login"),data:{email:d,password:p}}).then((function(e){c(e.data.role),r({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-".concat(M),e.data.token),t(!1)})).catch((function(e){r({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){v(!1)}))},id:"auth-form",children:[Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"E-Mail"}),Object(x.jsx)("input",{value:d,type:"email",onChange:function(e){return u(e.target.value)}})]}),Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("label",{children:"Mot de passe"}),Object(x.jsx)("input",{type:"password",value:p,onChange:function(e){return g(e.target.value)}})]})]})}),Object(x.jsx)(U.a.Actions,{children:Object(x.jsxs)(h.a,{color:"green",loading:y,type:"submit",form:"auth-form",disabled:0===d.length||0===p.length||y,inverted:!0,children:[Object(x.jsx)(B.a,{name:"checkmark"})," Connexion"]})})]})},X=function(e){var t,a=e.openUpdateImageModal,c=e.setOpenUpdateImageModal,r=e.product,i=e.setProducts,l=e.setOpenLoginModal,d=e.setAppMessage,u=Object(n.useState)(""),j=Object(s.a)(u,2),b=j[0],p=j[1],g=Object(n.useState)(!1),m=Object(s.a)(g,2),y=m[0],v=m[1],C=Object(n.useRef)(null),S=r._id,w=r.name,P=r.image;Object(n.useEffect)((function(){b&&function(e){var t=document.querySelector(".showimage"),a=new FileReader;t&&(a.onload=function(){t.src=a.result},a.readAsDataURL(e))}(b)}),[b]);var A=localStorage.getItem("token-".concat(M)),z="data:".concat(null===P||void 0===P?void 0:P.contentType,";base64,"),I=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.data);return Object(x.jsxs)(U.a,{open:a,onClose:function(){return c(!1)},children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(B.a,{name:"image"}),"Editer l'image"]}),(P||b)&&Object(x.jsx)(O.a,{children:Object(x.jsx)("img",{className:"showimage",style:{width:"100%",height:"100%"},src:z+I,alt:w})}),Object(x.jsx)(U.a.Content,{children:Object(x.jsx)(T.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",b);var a=localStorage.getItem("token-".concat(M));a?(v(!0),o()({method:"post",url:"".concat(k,"/api/products/updateProductImage/").concat(S),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+a}}).then((function(e){e&&200===e.data.status?(i(e.data.data),d({success:200===e.data.status,message:e.data.message})):d({success:200===e.data.status,message:e.data.message})})).then((function(){c(!1),p("")})).catch((function(e){return console.log(e)})).finally((function(){return v(!1)}))):(c(!1),l(!0))},id:"editImage-form",children:Object(x.jsxs)(T.a.Field,{children:[Object(x.jsx)("input",{ref:C,accept:"image/*",id:"addImage",files:b,type:"file",hidden:!0,onChange:function(e){J.a.imageFileResizer(e.target.files[0],200,200,"JPEG",100,0,(function(e){p(e)}),"file")}}),Object(x.jsx)(h.a,{disabled:y,loading:y,type:"button",onClick:function(){return C.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(x.jsxs)(U.a.Actions,{children:[b&&Object(x.jsxs)(h.a,{loading:y,disabled:y,color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(x.jsx)(B.a,{name:"add"})," Envoyer l'image pour ",w]}),P&&Object(x.jsxs)(h.a,{loading:y,disabled:y,type:"button",color:"red",form:"editImage-form",inverted:!0,onClick:function(){A?(v(!0),o()({method:"post",url:"".concat(k,"/api/products/updateProduct"),data:{update:{image:""},productId:S},headers:{Authorization:"Bearer "+A}}).then((function(e){i(e.data.data),d({success:200===e.data.status,message:"Image supprim\xe9e avec succ\xe9s"})})).catch((function(e){return console.log(e)})).finally((function(){v(!1),c(!1)}))):(c(!1),l(!0))},children:[Object(x.jsx)(B.a,{name:"delete"})," Supprimer l'image pour ",w]}),Object(x.jsxs)(h.a,{loading:y,disabled:y,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return c(!1)},children:[Object(x.jsx)(B.a,{name:"remove"})," Annuler"]})]})]})},$=a(33),ee=a(267),te=a(268),ae=a(269),ne=(a(237),function(e){var t=e.selectedCategory,a=e.setActiveMenu,c=e.activeMenu,r=e.products,s=e.setFilteredProducts,i=e.setSelectedCategory,o=e.sidebarVisible,l=e.setSidebarVisible,d=e.children;return Object(n.useEffect)((function(){t&&(a(""),s([]),s(r.filter((function(e){return e.type===t.slug&&e.category===c})))),"cave"!==t.slug&&"spuntinu"!==t.slug&&"epicerie"!==t.slug||(t.subCategories.find((function(e){return e.slug===c}))?a(c):a(t.subCategories[0].slug))}),[t]),Object(x.jsx)(ee.a,{columns:1,children:Object(x.jsx)(ee.a.Column,{children:Object(x.jsxs)(te.a.Pushable,{as:ae.a,children:[Object(x.jsxs)(te.a,{style:{background:"white"},as:w.a,animation:"overlay",icon:"labeled",onHide:function(){return l(!1)},onShow:function(){return l(!0)},vertical:!0,visible:o,width:"thin",children:[Object(x.jsx)($.b,{to:"/",onClick:function(){return i({})},children:Object(x.jsx)(w.a.Item,{className:"categories-sidebar-item",children:Object(x.jsx)(w.a.Header,{children:Object(x.jsx)("img",{width:"100px",src:"./assets/images/logo.png",alt:"logo piuma"})})})}),Object(x.jsx)(j.a,{}),z.map((function(e){return Object(x.jsx)($.b,{to:"/categories/".concat(e.slug),onClick:function(){i(e),l(!1)},children:Object(x.jsxs)(w.a.Item,{className:"categories-sidebar-item",children:[Object(x.jsx)(w.a.Header,{children:e.icon}),Object(x.jsx)("span",{children:e.name})]})},e.slug)}))]}),Object(x.jsx)(te.a.Pusher,{dimmed:o,children:Object(x.jsx)(ae.a,{basic:!0,children:d})})]})})})}),ce=a(142),re=(a(238),function(e){e.facebookUrl,e.instagramUrl,e.email,e.phoneNumber,e.backgroundColor,e.productBackgroundColor,e.textColor,e.titleColor;return Object(x.jsxs)("div",{className:"footer",children:[Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{as:"h3",children:"Retrouvez nous sur : "})}),Object(x.jsxs)("div",{className:"footer__icons",children:[Object(x.jsx)("a",{target:"_blank",href:"https://www.facebook.com/Ind%C3%A8-Piuma-104822281341917",rel:"noreferrer",children:Object(x.jsx)(m.a,{style:{color:"#3B5998",background:"white",borderRadius:"100%"},size:"3x",icon:ce.a,pull:"left"})}),Object(x.jsx)("a",{target:"_blank",href:"https://www.instagram.com/a_piuma_/?hl=fr",rel:"noreferrer",children:Object(x.jsx)(m.a,{style:{color:"#3F729B",borderRadius:"100%"},size:"3x",icon:ce.b,pull:"right"})})]}),Object(x.jsx)(j.a,{}),Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{as:"h3",children:"Contactez nous ! "})}),Object(x.jsxs)("div",{className:"footer__icons",children:[Object(x.jsx)("a",{href:"mailto:cafe-rotisserie@piuma.corsica",children:Object(x.jsx)(m.a,{style:{"--fa-primary-color":"white","--fa-secondary-color":"black","--fa-secondary-opacity":.8},size:"3x",icon:g.f,pull:"left"})}),Object(x.jsx)("a",{href:"tel:06 23 47 66 66",children:Object(x.jsx)(m.a,{style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"black","--fa-primary-opacity":1,"--fa-secondary-opacity":1},size:"3x",icon:g.n,pull:"right"})})]}),Object(x.jsx)(j.a,{}),Object(x.jsxs)("div",{className:"footer__copyright",style:{color:"black"},children:["Copyright \xa9 ",Object(x.jsx)("a",{style:{color:"black"},href:"https://piuma.corsica",children:Object(x.jsx)("span",{children:"Piuma \xa0"})}),Object(x.jsx)("span",{children:" ".concat((new Date).getFullYear(),". ")})]}),Object(x.jsx)("div",{className:"footer__alvp",children:Object(x.jsxs)("a",{style:{color:"black",fontSize:"1em"},href:"mailto:pef@alvp-developments.com",children:["Made with",Object(x.jsx)(m.a,{className:"alvp__icon",color:"darkred",icon:g.k,size:"2x"}),"by ALVP-Developments Ajaccio"]})})]})}),se=(a(239),a(240),function(e){var t=e.setSelectedCategory,a=e.setSidebarVisible,n=e.setOpenLoginModal,c=e.user,r=e.loading;return Object(x.jsxs)("div",{className:"topappbar",children:[Object(x.jsx)($.b,{to:"/",onClick:function(){return t({})},children:Object(x.jsx)("div",{className:"topappbar-image",children:Object(x.jsx)("img",{width:"100px",src:"./assets/images/logo.png",alt:"logo piuma"})})}),Object(x.jsxs)("div",{className:"topappbar-icons",children:[Object(x.jsx)(h.a,{disabled:r,loading:r,icon:!0,circular:!0,color:c?"green":"grey",onClick:function(){return n(!0)},children:Object(x.jsx)(m.a,{size:"3x",icon:g.w})}),Object(x.jsx)(h.a,{disabled:r,loading:r,icon:!0,circular:!0,onClick:function(){return a(!0)},children:Object(x.jsx)(m.a,{size:"3x",icon:g.b})})]})]})}),ie=(a(241),function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),i=Object(s.a)(r,2),b=i[0],p=i[1],g=Object(n.useState)(""),m=Object(s.a)(g,2),O=m[0],h=m[1],f=Object(n.useState)(""),y=Object(s.a)(f,2),v=y[0],C=y[1],M=Object(n.useState)(""),S=Object(s.a)(M,2),w=S[0],P=S[1],A=Object(n.useState)(!1),z=Object(s.a)(A,2),I=z[0],F=z[1],L=Object(n.useState)(!1),N=Object(s.a)(L,2),_=N[0],V=N[1],R=Object(n.useState)(!1),U=Object(s.a)(R,2),B=U[0],T=U[1],q=Object(n.useState)(!1),J=Object(s.a)(q,2),H=J[0],K=J[1],$=Object(n.useState)(!1),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ce=Object(n.useState)(!1),ie=Object(s.a)(ce,2),oe=ie[0],le=ie[1],de=Object(n.useState)(!1),ue=Object(s.a)(de,2),je=(ue[0],ue[1]),be=Object(n.useState)({}),pe=Object(s.a)(be,2),ge=pe[0],me=pe[1],Oe=Object(n.useState)([]),he=Object(s.a)(Oe,2),fe=he[0],xe=he[1],ye=Object(n.useState)({}),ve=Object(s.a)(ye,2),Ce=ve[0],ke=ve[1],Me=Object(n.useState)(!1),Se=Object(s.a)(Me,2),we=Se[0],Pe=Se[1],Ae=Object(n.useState)({}),ze=Object(s.a)(Ae,2),Ie=ze[0],Fe=ze[1],Ee=Object(n.useState)([]),Le=Object(s.a)(Ee,2),Ne=Le[0],De=Le[1],_e=Object(n.useState)(!1),Ve=Object(s.a)(_e,2),Re=(Ve[0],Ve[1]);return Object(n.useEffect)((function(){0!==Object.keys(Ce).length&&setTimeout((function(){ke({})}),5e3)}),[Ce]),Object(n.useEffect)((function(){Pe(!0),o.a.get("".concat(k,"/api/products/allProducts")).then((function(e){e&&xe(e.data.data)})).catch((function(e){return ke({success:!1,message:"Il y a eu un probl\xe9me, veuillez recharger la page"})})).finally((function(){return Pe(!1)})),Re(!0),o.a.get("".concat(k,"/api/events/getEvent")).then((function(e){e&&Fe(e.data.data)})).catch((function(e){ke({success:!1,message:"Il y a eu un probl\xe9me, veuillez recharger la page"})})).finally((function(){return Re(!1)}))}),[]),Object(x.jsx)("div",{className:"App",style:{position:"relative"},children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.a,{animation:"jiggle",duration:500,visible:Object.keys(Ce).length>0,children:Object(x.jsx)(u.a,{style:{position:"fixed",top:15,zIndex:"1000",width:"100%"},hidden:0===Object.keys(Ce).length,success:!!Ce.success,error:!Ce.success,children:Ce.message})}),Object(x.jsxs)(ne,{setActiveMenu:h,activeMenu:O,setDropdownValue:C,selectedCategory:b,setFilteredProducts:De,products:fe,sidebarVisible:a,setSidebarVisible:c,setSelectedCategory:p,children:[Object(x.jsx)(se,{setSelectedCategory:p,loading:we,user:w,setSidebarVisible:c,setOpenLoginModal:F}),Object(x.jsx)(j.a,{hidden:!0}),Object(x.jsx)(Q,{setUser:P,openLoginModal:I,setOpenLoginModal:F,setAppMessage:ke}),Object(x.jsxs)(l.c,{children:[Object(x.jsxs)(l.a,{exact:!0,path:"/",children:[Object(x.jsx)(G,{setEvent:Fe,setAppMessage:ke,setOpenLoginModal:F,openAddEventModal:oe,setOpenAddEventModal:le}),Object(x.jsx)(D,{user:w,event:Ie,products:fe,setEvent:Fe,setSelectedCategory:p,setActiveMenu:h,setOpenLoginModal:F,setOpenAddEventModal:le,setOpenEditEventModal:je})]}),Object(x.jsxs)(l.a,{path:"/categories/:categorie",children:[Object(x.jsx)(W,{setProducts:xe,selectedCategory:b,setOpenLoginModal:F,setAppMessage:ke,openAddProductModal:_,setOpenAddProductModal:V}),Object(x.jsx)(Y,{product:ge,setOpenEditProductModal:T,setAppMessage:ke,setOpenLoginModal:F,openEditProductModal:B,setProducts:xe}),Object(x.jsx)(X,{openUpdateImageModal:te,setOpenUpdateImageModal:ae,setProducts:xe,product:ge,setOpenLoginModal:F,setAppMessage:ke}),Object(x.jsx)(Z,{openImageModal:H,setOpenImageModal:K,product:ge}),Object(x.jsx)(E,{filteredProducts:Ne,setFilteredProducts:De,user:w,selectedCategory:b,activeMenu:O,setActiveMenu:h,dropdownValue:v,setDropdownValue:C,products:fe,setProducts:xe,setOpenLoginModal:F,setOpenAddProductModal:V,setOpenImageModal:K,setOpenUpdateImageModal:ae,setOpenEditProductModal:T,setSelectedProduct:me})]})]}),Object(x.jsx)(j.a,{}),Object(x.jsx)(re,{})]})]})})}),oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,271)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};a(242);r.a.render(Object(x.jsx)($.a,{basename:"/",children:Object(x.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[243,1,2]]]);
//# sourceMappingURL=main.11e84c6a.chunk.js.map