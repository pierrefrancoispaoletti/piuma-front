(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{225:function(e,t,n){},247:function(e,t,n){},257:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){},276:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n(59),i=n.n(r),s=(n(225),n(8)),o=n(16),l=n.n(o),d=n(78),u=n(204),j=n(15),b=n(326),p=n(330),m=n(321),O=n(27),h=n(12),g=n(11),f=n(320),x=n(332),v=n(331),y=n(71),C=["image"],S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e&&e.length>0?e.reduce((function(e,t){return t.weight?e+t.price*(t.weight/1e3):e+t.price}),0):0},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(n.image,Object(y.a)(n,C));e([].concat(Object(O.a)(t),[a]))},w=function(){var e=new Date;return"samedi"!==e.toLocaleString("fr-FR",{weekday:"long"})?new Date(e.setDate(e.getDate()+1)).toISOString().split("T")[0]:new Date(e.setDate(e.getDate()+2)).toISOString().split("T")[0]};a="https://inde-piuma.herokuapp.com";var A="piuma",I=(n(247),n(0)),N=function(e){var t=e.cart,n=e.setCart,a=e.order,r=e.setOrder,i=e.setOpenPaymentModal,s=t.reduce((function(e,t){var n=t._id;return e[n]=(e[n]||0)+1,e}),{}),o=Object.keys(s).map((function(e){return{id:e,count:s[e]}}));Object(c.useEffect)((function(){r(Object(O.a)(t))}),[t]);return Object(I.jsxs)(f.a,{className:"cart",children:[Object(I.jsx)(x.a,{className:"categories-header",style:{color:"white"},as:"h2",children:Object(I.jsx)("span",{style:{textDecoration:"underline"},children:"Votre Panier"})}),Object(I.jsx)("div",{className:"cart-pickupdate",children:Object(I.jsxs)("p",{children:["Votre commande sera pr\xe9te pour le ",function(){var e=new Date(w()),t=e.toLocaleString("fr-FR",{weekday:"long"}),n=e.getDate();return Object(I.jsxs)("span",{className:"day",children:[t," ",n," \xe0 ","11h"]})}()]})}),Object(I.jsx)(m.a,{}),Object(I.jsxs)("div",{className:"cart-description",children:[Object(I.jsxs)("div",{className:"cart-header",children:[Object(I.jsx)("div",{className:"cart-total",children:Object(I.jsxs)("span",{children:["Total: ",S(t).toFixed(2)," ",Object(I.jsx)("small",{children:"\u20ac"})]})}),Object(I.jsx)(v.a,{type:"button",color:"blue",size:"large",disabled:"0.00"===S(t).toFixed(2)||t.some((function(e){return"au kilo"===e.region.toLowerCase()&&!e.weight})),onClick:function(){return i(!0)},children:"Commander"})]}),o.map((function(e){var c,i,s=(c=t,i=e.id,c.find((function(e){return e._id===i}))),o=s.name,l=s._id,d=s.price,u=s.description,j=s.region,b=s.weight,p=s.infos;return Object(I.jsxs)("div",{className:"cart-product",children:[Object(I.jsx)("div",{className:"cart-product-title",children:o}),Object(I.jsx)("div",{className:"cart-product-amount",children:Object(I.jsxs)("span",{children:[Object(I.jsx)(v.a,{icon:!0,circular:!0,size:"mini",onClick:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=t.findIndex((function(e){return e._id===n})),c=Object(O.a)(t);c.splice(a,1),e(Object(O.a)(c))}(n,t,l)},children:Object(I.jsx)(g.a,{size:"2x",color:"red",icon:h.o})}),Object(I.jsxs)("span",{className:"counter",children:["Quantit\xe9 : ",e.count]}),Object(I.jsx)(v.a,{icon:!0,circular:!0,size:"mini",onClick:function(){return k(n,t,s)},children:Object(I.jsx)(g.a,{size:"2x",color:"green",icon:h.r})})]})}),u&&Object(I.jsxs)("div",{className:"cart-product-description",children:[Object(I.jsx)("p",{children:u}),Object(I.jsx)("textarea",{style:{width:"100%"},cols:"5",rows:"3",name:e.id,value:p,onChange:function(e){return function(e){var t=a.find((function(t){return t._id===e.target.name}));t.infos=e.target.value;var n=a.findIndex((function(t){return t._id===e.target.name})),c=Object(O.a)(a);c[n]=t,r(Object(O.a)(c))}(e)},placeholder:"Infos compl\xe9mentaires Exemple: Cannistrellis sucr\xe9s noisette, ribella misticu..."})]}),Object(I.jsx)("div",{className:"cart-product-unitprice",children:Object(I.jsxs)("p",{children:["Prix unitaire: ",d," ",Object(I.jsx)("small",{children:"\u20ac"})," / ",j]})}),Object(I.jsx)("div",{className:"cart-product-subtotal",children:"au kilo"===j.toLowerCase()?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("label",{children:"Poids d\xe9sir\xe9 "}),Object(I.jsxs)("select",{required:!0,name:e.id,value:b,onChange:function(e){return function(e){var t=a.find((function(t){return t._id===e.target.name}));t.weight=Number(e.target.value);var n=a.findIndex((function(t){return t._id===e.target.name})),c=Object(O.a)(a);c[n]=t,r(Object(O.a)(c))}(e)},children:[Object(I.jsx)("option",{value:"",children:"Selectionnez un poids"}),Object(I.jsx)("option",{value:300,children:"300"}),Object(I.jsx)("option",{value:350,children:"350"}),Object(I.jsx)("option",{value:400,children:"400"}),Object(I.jsx)("option",{value:450,children:"450"}),Object(I.jsx)("option",{value:500,children:"500"}),Object(I.jsx)("option",{value:550,children:"550"}),Object(I.jsx)("option",{value:600,children:"600"}),Object(I.jsx)("option",{value:650,children:"650"}),Object(I.jsx)("option",{value:700,children:"700"}),Object(I.jsx)("option",{value:750,children:"750"}),Object(I.jsx)("option",{value:800,children:"800"}),Object(I.jsx)("option",{value:850,children:"850"}),Object(I.jsx)("option",{value:900,children:"900"}),Object(I.jsx)("option",{value:950,children:"950"}),Object(I.jsx)("option",{value:1e3,children:"1000"})]}),"grammes",b>0&&Object(I.jsxs)("p",{children:["Sous-Total :",(d*(b/1e3)*e.count).toFixed(2),Object(I.jsx)("small",{children:"\u20ac"})]})]}):Object(I.jsxs)("p",{children:["Sous-Total :",(d*e.count).toFixed(2),Object(I.jsx)("small",{children:"\u20ac"})]})})]})})),Object(I.jsx)("div",{}),Object(I.jsxs)("div",{className:"cart-header",children:[Object(I.jsx)("div",{className:"cart-total",children:Object(I.jsxs)("span",{children:["Total: ",S(t).toFixed(2)," ",Object(I.jsx)("small",{children:"\u20ac"})]})}),Object(I.jsx)(v.a,{type:"button",color:"blue",size:"large",disabled:"0.00"===S(t).toFixed(2)||t.some((function(e){return"au kilo"===e.region.toLowerCase()&&!e.weight})),onClick:function(){return i(!0)},children:"Commander"})]})]})]})},M=n(10),P=function(e){var t=e.loading,n=e.visible,a=e._id,c=e.choice,r=e.showInShop,i=e.product,s=e.handleDeleteProduct,o=e.handleChangeChoice,l=e.handleChangeVisibility,d=e.handleChangeShoppable,u=e.setSelectedProduct,j=e.setOpenEditProductModal,b=e.setOpenUpdateImageModal;return Object(I.jsxs)("div",{className:"adminbuttons",children:[Object(I.jsx)(v.a,{disabled:t,loading:t,circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return s(a)}}),Object(I.jsx)(v.a,{disabled:t,loading:t,circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){u(i),j(!0)}}),Object(I.jsx)(v.a,{disabled:t,loading:t,circular:!0,icon:"shopping basket",size:"large",color:r?"orange":"grey",onClick:function(){return d(i)}}),Object(I.jsx)(v.a,{disabled:t,loading:t,circular:!0,icon:n?"hide":"unhide",size:"large",onClick:function(){return l(i)}}),Object(I.jsx)(v.a,{disabled:t,loading:t,circular:!0,icon:"heart",size:"large",color:c?"red":"grey",onClick:function(){return o(i)}}),Object(I.jsx)(v.a,{disabled:t,loading:t,circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){u(i),b(!0)}})]})},z=n(115),F=n(164),E=(n(257),function(e){var t=e.product,n=e._id,a=e.name,r=e.nameCorsican,i=e.type,o=e.region,l=e.description,d=e.descriptionCorsican,u=e.price,b=e.category,p=e.choice,m=e.visible,O=e.image,f=e.showInShop,y=e.user,C=e.setOpenImageModal,S=e.setSelectedProduct,w=e.setCart,A=e.cart,N=Object(j.f)(),P=navigator.language||navigator.userLanguage,E=Object(c.useState)(!1),L=Object(s.a)(E,2),D=L[0],V=L[1],B={get:function(e,t){return((JSON.parse(localStorage.getItem("translations"))||{})[t]||{})[e]},set:function(e,t,n){var a=JSON.parse(localStorage.getItem("translations"))||Object(z.a)({},t,{});a[t]=Object(M.a)(Object(M.a)({},a[t]),{},Object(z.a)({},e,n)),localStorage.setItem("translations",JSON.stringify(a))}};return Object(I.jsxs)("div",{id:n,className:"productitem",style:{display:m||"isAdmin"===y?"":"none",border:decodeURI(N.location.hash.replace("#",""))===n?"8px solid darkred":""},children:[(r||d)&&Object(I.jsx)(v.a,{icon:!0,circular:!0,size:"large",style:{position:"absolute",top:"-42px",left:"-20px",padding:"6px"},onClick:function(){return V(!D)},children:Object(I.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAABbhJREFUWEfNl32IXcUVwM+ZuTNv3k2yzw0hITE1aUnSSv1YS6QIahv9o7VFi0Ui2iwSBBORGmNbmjTY+pUKLVVpS6FNsK2YVBqQWFqMH6WkElbcNlVsY5qsQU0IxaS7fdmXd++dj3Nk5K287L7ddzcbSs5fF+acOT/O51yE80jwPGKB/xuM1vqzIYR1IYR7JwvAtGCMMdc5524noiWIOIyIHwghDlcqlWcbjcb/AMBO5khK+UchxMEQgieiTZ30SsEg4ilmrgJAMlVaEfGkMeYuIjpdFMVLY7pCiO9IKeMdFwJA4b3fOm0YKWWMwi+ZefZ0a0trvdpauwsAhFLqGSKys2fP3thoNF5USt2S5/n74++cNDJSyj+HEK6bLkS7fpIkX/bev5QkyRNa679kWbYOEd8TQox4779XGgYAMgAwM4GJtkqpXc65finlTkR8w3v/iNb6AWvtI6VghBBPI+JpIupn5lkzBBoBgHlSyr9qrb8dU05Es6y1z5eBwTlz5swtimJVVE7TdHB0dPTJEMLXAM5uFNRqtbnNZrO/t7f3T/V6/UZjzL/q9frLXWFqtVovM2Oe55uZ+VC1Wo25voqIrg8h3AQAvdONlBBie61Wi1H5FABckOf5RXme/7YrTLVaXZxl2X8qlco9WusXRkdHjwCAHzM0xix1zn2XiNaU7TIp5c9CCBuMMf1EtDACWWs3d4VJ0/QGrfVANOjr6zs2MDDwyaIoDscWBQBqXYCI+LYQYr9S6mVr7X1EdNlkEUuS5Mfe+03GmK3M/F8AWF4UxbquMAsWLJh14sSJvUKI55IkeZWIrmbmZcx8BBE/jYi7582bt+f48eNNAJBpml7hvb++VU+HnHPfZ+ZLW/Bj/hKl1Hrv/aNa6y0hhKHY8l1hjDFL8jx/t02RpZSDWusNWZYNAkBYvHhx9dixY5kQ4kEi2iKl3EtEK6rV6voQwmcQ8fWenp7DIyMjX/XeP4yI+xDRIKIDgPe99/eXncAy1oiU8rUQwuc7dBC3aii00pYCQHSCaZrexMxzQggrEHFhCGGpUmpvURRrtdaPO+e+EEJY29KfwDNhAi9btqwyNDSUCyEOIeIrSZI8XxTFnqnaWgjxTynlAefc6nEeKEaNmecz8zvM/PUY2dJbO0mSzd77H0YDRPw3My8fl/8z7kLEtwDgEDPfPF5PShkb4RdCiK845y7UWv8KAC631m7pFJ1Ouym2cUxVWeEkSR7y3j843kBr/Q1r7c4kSX6CiENxvTDzQiIaStN0d6PR+KDd5gyY2BnNZnN/WYpW9I4y8yc62SilPuec+0dPT0+cwHcj4lEiuh0A4iugEkK4clIYY8zVeZ6/Oh2YqXQXLVo0qzUColrcT9sRcT8zXxNCuDZum/YampCmuA7q9frJqeqkLGyrI69q11dKXSmEWBmfJ1LKbe2PsAkwSqm+GNqyDrvpaa3XWGt3tOvFDosRiU+JLMv2jZ11KuA46oeZ+YJujsqeCyHiLvtR1FdKPeucu80YsybP89+1772OLz0p5U9DCN8s66ybnhBiR3wbSSl3hRBuiQVtrf1WnuexxT+WSZ+dSqnfOOfu6Oao27nW+lZr7e+NMXfmef4UALBS6ooQwheJ6IlSMOeis+K/krX2wJjD+BYWQvwNAN6YP3/+kbjfSsG0ZkicwCta33H1IzPP7RaNeJ4kyQNxS7frCiGOEBEIIU4RUd/4e8r8N0WduBw/EkQcZOaVXYDiFFfjQLYaY37ebDYPViqV/qIo/nA2MBP8JknyJe99XJ4dpTUe3mxPjzHmsSzLHiOi1XGzdzIsE5mODrXWl1hr45I8Q6SUd4YQYqF+LHHQOed+DQAXA8ACAIhDdYKcNUy8SQjxOBFtHLtVCPEDInq4kyNjzKo0Tf8+PDx8arKIzgimVUOvaK13F0WxLf5Hd6mlKY9nDDMT5+ekgM8lQPtdHwJxAZhCtlAIxgAAAABJRU5ErkJggg==",width:"35px",alt:"bouton de traduction",style:{backgroundColor:"transparent"}})}),Object(I.jsxs)("div",{className:"productitem-header",children:[Object(I.jsxs)(x.a,{as:"h3",style:"cave"===i&&"rouges"===b?{color:"darkred"}:"cave"===i&&"roses"===b?{color:"#fec5d9"}:"cave"===i&&"blancs"===b?{color:"#f1f285"}:{color:""},children:[m?"":"Cach\xe9 : ",D&&r?r:a,O&&Object(I.jsx)(g.a,{style:{color:"white",marginLeft:8},icon:h.u,onClick:function(){S(t),C(!0)}}),p&&Object(I.jsx)(g.a,{className:"bosschoice alvp__icon",icon:h.m,style:{"--fa-primary-color":"darkred","--fa-secondary-color":"transparent"},size:"2x"})]}),f&&Object(I.jsxs)(v.a,{className:"addtocart",icon:!0,circular:!0,color:"orange",onClick:function(){return k(w,A,t)},children:[Object(I.jsx)(g.a,{size:"2x",icon:h.d}),Object(I.jsx)("span",{className:"itemcounter",children:A.filter((function(e){return e._id===n})).length})]}),"cave"===i&&"verre de vin"!==a.toLowerCase()?Object(I.jsxs)("span",{className:"price",children:[u.toFixed(2)-10,Object(I.jsx)("small",{children:"\u20ac"})]}):Object(I.jsxs)("span",{className:"price",children:[u.toFixed(2),Object(I.jsx)("small",{children:"\u20ac"})]})]}),o&&Object(I.jsxs)("div",{className:"region-wrapper",children:[Object(I.jsx)("div",{className:"region",children:o}),"cave"===i&&"verre de vin"!==a.toLowerCase()&&Object(I.jsxs)("span",{className:"region",children:["Sur place : ".concat(u.toFixed(2)),Object(I.jsx)("small",{children:"\u20ac"})]})]}),l&&Object(I.jsx)(F.b,{cacheProvider:B,from:"fr",to:P.substr(0,2),googleApiKey:"AIzaSyAZaWwVgn5z9gNPy0cbweEVGUeWwva5GGM",children:D&&d?Object(I.jsx)("p",{className:"description",children:d}):Object(I.jsx)("p",{className:"description",children:Object(I.jsx)(F.a,{children:l})})})]})}),L=n(324),D=n(323),V=function(e){var t=e.dropdownValue,n=e.subCategories,a=e.activeMenu,c=e.setActiveMenu,r=e.setDropdownValue,i=e.products;return Object(I.jsx)(L.a,{compact:!0,borderless:!0,icon:"labeled",className:"categories-menu",style:{position:"relative"},children:n.map((function(e){return Object(I.jsx)(I.Fragment,{children:e.subCat?Object(I.jsxs)("div",{style:{position:"relative"},children:[Object(I.jsx)("sup",{style:{position:"absolute",top:9,right:3,zIndex:10},children:Object(I.jsx)("span",{className:"badge",children:i&&i.filter((function(t){return t.category===e.slug&&t.visible})).length})}),Object(I.jsx)(D.a,{className:a===e.slug?"categories-dropdown active":"categories-dropdown",item:!0,icon:e.icon,text:e.name,onClick:function(){return c(e.slug)},children:Object(I.jsx)(D.a.Menu,{direction:"blancs"===a&&"blancs"===e.slug&&"left",children:e.subCat.map((function(e){return Object(I.jsx)(D.a.Item,{active:t===e.slug,onClick:function(t){return r(e.slug)},children:Object(I.jsxs)("span",{className:"dropdown-menuitem",children:[e.name,Object(I.jsx)("span",{className:"badge",children:i&&i.filter((function(t){return t.subCategory===e.slug&&t.visible})).length})]})},e.slug)}))})},e.slug)]}):Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(L.a.Item,{style:{position:"relative"},className:"menu-items",active:a===e.slug,onClick:function(){return c(e.slug)},children:[Object(I.jsx)(L.a.Header,{children:e.icon}),e.name,Object(I.jsx)("sup",{style:{position:"absolute",top:9,right:3},children:Object(I.jsx)("span",{className:"badge top-menu",children:i&&i.filter((function(t){return t.category===e.slug&&t.visible})).length})})]},e.slug)})})}))})},B=[{name:"Aujourd'hui",slug:"aujourd'hui",icon:Object(I.jsx)(g.a,{size:"4x",icon:h.y,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})},{name:"L'\xc9picerie",slug:"epicerie",icon:Object(I.jsx)(g.a,{size:"4x",icon:h.a,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Les Sal\xe9s",slug:"sal\xe9s-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.h,style:{"--fa-primary-color":"darkred"}})},{name:"Les Petits Pots",slug:"pots-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.k,style:{"--fa-primary-color":"darkred"}})},{name:"Les Huiles et Vinaigres",slug:"huile-et-vinaigres-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.n,style:{"--fa-primary-color":"darkred"}})},{name:"Les Assaisonements",slug:"assaisonements-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.s,style:{"--fa-primary-color":"darkred"}})},{name:"Les Terrines",slug:"terrines-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.q,style:{"--fa-primary-color":"darkred"}})},{name:"Les Charcuteries",slug:"charcuteries-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.t,style:{"--fa-primary-color":"darkred"}})},{name:"Les Fromages",slug:"fromages-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.e,style:{"--fa-primary-color":"darkred"}})},{name:"Les Douceurs",slug:"douceurs-p",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.f,style:{"--fa-primary-color":"darkred"}})}]},{name:"Assiettes \xe0 composer",slug:"spuntinu",details:"\xc0 partir de 18h",icon:Object(I.jsx)(g.a,{size:"4x",icon:h.q,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Les Sal\xe9s",slug:"sal\xe9s",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.h,style:{"--fa-primary-color":"darkred"}})},{name:"Les Petits Pots",slug:"pots",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.k,style:{"--fa-primary-color":"darkred"}})},{name:"Les Terrines",slug:"terrines",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.q,style:{"--fa-primary-color":"darkred"}})},{name:"Les Charcuteries",slug:"charcuteries",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.t,style:{"--fa-primary-color":"darkred"}})},{name:"Les Fromages",slug:"fromages",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.e,style:{"--fa-primary-color":"darkred"}})},{name:"Les Douceurs",slug:"douceurs",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.f,style:{"--fa-primary-color":"darkred"}})}]},{name:"La Cave",slug:"cave",icon:Object(I.jsx)(g.a,{icon:h.A,size:"4x",style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Vins Rouges",slug:"rouges",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.A,style:{"--fa-primary-color":"darkred"}})},{name:"Vins Ros\xe9s",slug:"roses",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.A,style:{"--fa-primary-color":"#fec5d9"}})},{name:"Vins Blancs",slug:"blancs",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.A,style:{"--fa-primary-color":"#f1f285"}})},{name:"Les Champagnes",slug:"champagnes",icon:Object(I.jsx)(g.a,{size:"3x",icon:h.i,style:{"--fa-primary-color":"white"}})}]},{name:"Les Bi\xe8res",slug:"bieres",icon:Object(I.jsx)(g.a,{size:"4x",icon:h.c,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})},{name:"Les Softs",slug:"softs",icon:Object(I.jsx)(g.a,{size:"4x",icon:h.j,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})}],U=(n(263),["image"]),R=["image"],T=["image"],q=function(e){var t,n,r=e.setFilteredProducts,i=e.selectedCategory,o=e.dropdownValue,d=e.activeMenu,u=e.setActiveMenu,b=e.setDropdownValue,p=e.products,O=e.filteredProducts,C=e.user,S=e.setOpenAddProductModal,k=e.setProducts,w=e.setOpenLoginModal,N=e.setSelectedProduct,z=e.setOpenEditProductModal,F=e.setOpenImageModal,L=e.setOpenUpdateImageModal,D=e.setCart,q=e.cart,_=(Object(j.g)(),i.name),Y=i.subCategories,J=i.details,W=Object(c.useState)(!1),K=Object(s.a)(W,2),Q=K[0],X=K[1],H=("vins"===i.slug&&((null===i||void 0===i||null===(t=i.subCategories[0])||void 0===t?void 0:t.subCat.find((function(e){e.name;return e.slug===o})))||(null===i||void 0===i||null===(n=i.subCategories[2])||void 0===n||n.subCat.find((function(e){e.name;return e.slug===o})))),Object(c.useRef)());Object(c.useEffect)((function(){H.current=o}));H.current;Object(c.useEffect)((function(){r(p.filter((function(e){return e.type===i.slug})))}),[p]),Object(c.useEffect)((function(){b(""),d&&r(null===p||void 0===p?void 0:p.filter((function(e){return e.category===d})))}),[d]),Object(c.useEffect)((function(){o&&(b(o),r(null===p||void 0===p?void 0:p.filter((function(e){return e.subCategory===o}))))}),[o]);var Z=localStorage.getItem("token-".concat(A)),G=function(e){Z?(X(!0),l()({method:"delete",url:"".concat(a,"/api/products/deleteProduct"),data:{productId:e},headers:{Authorization:"Bearer "+Z}}).then((function(e){return k(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return X(!1)}))):w(!0)},$=function(e){e.image;var t=Object(y.a)(e,U);t.visible=!e.visible,Z?(X(!0),l()({method:"post",url:"".concat(a,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+Z}}).then((function(e){return k(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return X(!1)}))):w(!0)},ee=function(e){e.image;var t=Object(y.a)(e,R);t.choice=!e.choice,Z?(X(!0),l()({method:"post",url:"".concat(a,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+Z}}).then((function(e){return k(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return X(!1)}))):w(!0)},te=function(e){e.image;var t=Object(y.a)(e,T);t.showInShop=!e.showInShop,Z?(X(!0),l()({method:"post",url:"".concat(a,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+Z}}).then((function(e){return k(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return X(!1)}))):w(!0)};return Object(I.jsxs)(f.a,{className:"categories",children:[C&&"isAdmin"===C&&Object(I.jsx)("div",{children:Object(I.jsx)(v.a,{color:"green",circular:!0,size:"medium",onClick:function(){return S(!0)},children:Object(I.jsx)(g.a,{icon:h.r,size:"2x"})})}),Object(I.jsxs)(x.a,{className:"categories-header",style:{color:"white"},as:"h2",children:[Object(I.jsx)("span",{style:{textDecoration:"underline"},children:_}),J&&Object(I.jsx)("p",{style:{color:"black",fontSize:"0.5em",textDecoration:""},children:J})]}),d&&Object(I.jsx)(x.a,{className:"categories-header",as:"h3",style:"rouges"===d?{color:"darkred"}:"roses"===d?{color:"#fec5d9"}:"blancs"===d?{color:"#f1f285"}:{color:"white"},children:B.filter((function(e){var t;return null===e||void 0===e||null===(t=e.subCategories)||void 0===t?void 0:t.find((function(e){return e.slug===d}))}))[0].subCategories.find((function(e){return e.slug===d})).name}),Object(I.jsx)(m.a,{hidden:!0}),Y&&Object(I.jsx)(V,{products:p,dropdownValue:o,subCategories:Y,activeMenu:d,setActiveMenu:u,setDropdownValue:b}),Object(I.jsx)(m.a,{hidden:!0}),Object(I.jsx)("div",{className:"products",children:null===O||void 0===O?void 0:O.sort((function(e,t){return e.price-t.price})).sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:t.name.toLowerCase()>e.name.toLowerCase()?-1:0})).sort((function(e,t){return t.choice-e.choice})).map((function(e){return Object(I.jsxs)(I.Fragment,{children:[C&&"isAdmin"===C&&Object(I.jsx)(P,Object(M.a)(Object(M.a)({loading:Q},e),{},{product:e,handleDeleteProduct:G,handleChangeVisibility:$,handleChangeChoice:ee,handleChangeShoppable:te,setSelectedProduct:N,setOpenEditProductModal:z,setOpenUpdateImageModal:L})),Object(I.jsx)(E,Object(M.a)(Object(M.a)({product:e},e),{},{user:C,setOpenImageModal:F,setSelectedProduct:N,setCart:D,cart:q}),e._id)]})}))}),Object(I.jsx)(m.a,{hidden:!0}),Y&&O.length>1&&Object(I.jsx)(V,{products:p,dropdownValue:o,subCategories:Y,activeMenu:d,setActiveMenu:u,setDropdownValue:b})]})},_=(n(264),n(265),n(209)),Y=n(210),J=function(e){var t,n,r,i,o=e.user,d=e.event,u=e.setEvent,j=e.setOpenAddEventModal,b=e.setSelectedCategory,p=e.setActiveMenu,m=e.products,O=e.setOpenLoginModal,y=Object(c.useState)(!1),C=Object(s.a)(y,2),S=C[0],k=C[1],w=localStorage.getItem("token-".concat(A)),N=Object(c.useState)(0),M=Object(s.a)(N,2),P=M[0],z=M[1],F=localStorage.getItem("".concat(A,"-event"));Object(c.useEffect)((function(){z(d.like),F&&F!==d._id&&d._id&&localStorage.removeItem("".concat(A,"-event"))}),[d]);var E=function(){return function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e.slice(0,6)}(null===m||void 0===m?void 0:m.filter((function(e){return e.image})))},L=function(e){return B.find((function(t){return t.slug===e}))},D=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)},V="data:".concat(null===(t=d.image)||void 0===t?void 0:t.contentType,";base64,"),U=D(null===(n=d.image)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.data);return Object(I.jsxs)(f.a,{className:"home",children:[o&&"isAdmin"===o&&Object(I.jsxs)("div",{className:"home-addbutton",children:[d&&0===Object.keys(d).length&&Object(I.jsx)(v.a,{loading:S,disabled:S,color:"green",circular:!0,size:"medium",onClick:function(){return j(!0)},children:Object(I.jsx)(g.a,{icon:h.r,size:"2x"})}),d&&Object.keys(d).length>0&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(v.a,{loading:S,disabled:S,color:"red",circular:!0,size:"medium",onClick:function(){return e=d._id,void(w?(k(!0),l()({method:"delete",url:"".concat(a,"/api/events/deleteEvent"),data:{eventId:e},headers:{Authorization:"Bearer "+w}}).then((function(e){return u({})})).catch((function(e){return console.log(e)})).finally((function(){return k(!1)}))):O(!0));var e},children:Object(I.jsx)(g.a,{icon:h.x,size:"2x"})})})]}),d&&Object.keys(d).length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(x.a,{className:"home-header",as:"h1",children:d.name}),Object(I.jsxs)(f.a,{text:!0,className:"home-presentation",children:[d.image&&Object(I.jsx)("div",{children:Object(I.jsx)("img",{style:{width:"100%"},src:V+U,alt:d.name})}),d.date&&Object(I.jsx)("p",{children:"Le :\n                ".concat(new Date(d.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}))}),Object(I.jsx)("p",{style:{whiteSpace:"break-spaces"},children:d.description}),Object(I.jsxs)("div",{className:"home-like-button",children:[Object(I.jsx)(v.a,{disabled:!!F,icon:!0,circular:!0,color:"facebook",onClick:function(){F||(localStorage.setItem("".concat(A,"-event"),d._id),l()({method:"post",url:"".concat(a,"/api/events/updateLikes"),data:{_id:d._id}}),z(P+1))},children:Object(I.jsx)(g.a,{size:"1x",icon:h.w,style:{"--fa-secondary-color":"white","--fa-secondary-opacity":1}})}),Object(I.jsx)("span",{style:{background:"transparent",color:"white",borderRadius:50,display:"inline-block",padding:"5px 10px"},children:P})]})]})]}),d&&0===Object.keys(d).length&&Object(I.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:m&&((null===(i=E())||void 0===i?void 0:i.length)>0?Object(I.jsx)(_.Carousel,{showArrows:!0,showThumbs:!1,infiniteLoop:!0,children:E().map((function(e){var t,n,a;return Object(I.jsxs)("div",{children:[e.choice&&Object(I.jsx)(g.a,{className:"choisen alvp__icon",icon:h.m,style:{"--fa-primary-color":"darkred","--fa-secondary-color":"transparent"},size:"2x"}),Object(I.jsx)("img",{src:"data:".concat(null===e||void 0===e||null===(t=e.image)||void 0===t?void 0:t.contentType,";base64,")+D(null===(n=e.image)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data),alt:e.name}),Object(I.jsxs)(Y.a,{smooth:!0,to:"/categories/".concat(L(e.type).slug,"#").concat(e._id),onClick:function(){b(L(e.type)),p(e.category)},children:[Object(I.jsx)("p",{className:"legend",children:e.name}),Object(I.jsxs)("p",{className:"legend price",children:[e.price," ",Object(I.jsx)("small",{children:"\u20ac"})]})]})]})}))}):Object(I.jsx)("img",{height:"280px",src:"./assets/images/logo.png",alt:"logo RDR"}))})]})},W=n(17),K=n.n(W),Q=n(37),X=n(327),H=n(55),Z=n(325),G=n(92),$=n.n(G),ee=function(e){var t=e.setEvent,n=e.setAppMessage,r=e.setOpenLoginModal,i=e.openAddEventModal,o=e.setOpenAddEventModal,d=Object(c.useState)({name:"",description:"",date:"",like:0,image:""}),u=Object(s.a)(d,2),j=u[0],b=u[1],p=new Date,m=Object(c.useState)(!1),O=Object(s.a)(m,2),h=O[0],g=O[1],f=function(e){var t={};t[e.target.name]=e.target.value,b(Object(M.a)(Object(M.a)({},j),t))},y=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.a.imageFileResizer(t.target.files[0],500,500,"JPEG",100,0,(function(e){b(Object(M.a)(Object(M.a)({},j),{},{image:e}))}),"file");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=Object(c.useRef)(null),S=localStorage.getItem("token-".concat(A));return Object(I.jsxs)(X.a,{closeIcon:!0,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:i,size:"small",children:[Object(I.jsxs)(x.a,{icon:!0,children:[Object(I.jsx)(H.a,{name:"add"}),"Ajouter un Evenement"]}),Object(I.jsx)(X.a.Content,{children:Object(I.jsxs)(Z.a,{onSubmit:function(e){e.preventDefault();var c=new FormData;c.append("name",j.name),c.append("description",j.description||""),c.append("date",j.date||""),c.append("like",0),c.append("image",j.image||""),S?(g(!0),l()({method:"post",url:"".concat(a,"/api/events/createEvent"),data:c,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+S}}).then((function(e){e&&200===e.data.status&&(t(e.data.data),b({name:"",description:"",date:"",like:0,image:""})),n({success:200===e.data.status,message:e.data.message})})).then((function(){o(!1)})).catch((function(e){return n({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){g(!1)}))):r(!0)},id:"addEvent-form",children:[Object(I.jsxs)(Z.a.Field,{required:!0,error:!j.name,children:[Object(I.jsx)("label",{children:"Nom de l'evenement"}),Object(I.jsx)("input",{value:j.name,name:"name",type:"text",onChange:function(e){return f(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Description"}),Object(I.jsx)("textarea",{value:j.description,name:"description",rows:"5",cols:"33",onChange:function(e){return f(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Date de l'evenement"}),Object(I.jsx)("input",{value:j.date,name:"date",type:"date",min:p.toISOString().split("T")[0],onChange:function(e){return f(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("input",{ref:C,accept:"image/*",id:"addEventImage",files:j.image,type:"file",hidden:!0,onChange:function(e){return y(e)}}),Object(I.jsx)(v.a,{disabled:h,loading:h,type:"button",onClick:function(){return C.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(I.jsxs)(X.a.Actions,{children:[Object(I.jsxs)(v.a,{disabled:h||!j.name,loading:h,color:"green",type:"submit",form:"addEvent-form",inverted:!0,children:[Object(I.jsx)(H.a,{name:"add"})," Ajouter"]}),Object(I.jsxs)(v.a,{disabled:h,loading:h,color:"red",type:"submit",form:"addEvent-form",inverted:!0,onClick:function(){return o(!1)},children:[Object(I.jsx)(H.a,{name:"remove"})," Annuler"]})]})]})},te=n(322),ne=function(e){var t=e.selectedCategory,n=e.setAppMessage,r=e.openAddProductModal,i=e.setOpenAddProductModal,o=e.setOpenLoginModal,d=e.setProducts,u=Object(c.useState)({name:"",nameCorsican:"",region:"",description:"",descriptionCorsican:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:"",showInShop:!1}),j=Object(s.a)(u,2),b=j[0],p=j[1],m=Object(c.useState)(!1),O=Object(s.a)(m,2),h=O[0],g=O[1],f=Object(c.useRef)(null);Object(c.useEffect)((function(){p(Object(M.a)(Object(M.a)({},b),{},{type:t.slug}))}),[t]);var y=function(e){var t={};t[e.target.name]=e.target.value,p(Object(M.a)(Object(M.a)({},b),t))},C=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.a.imageFileResizer(t.target.files[0],400,400,"JPEG",100,0,(function(e){p(Object(M.a)(Object(M.a)({},b),{},{image:e}))}),"file");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=localStorage.getItem("token-".concat(A));return Object(I.jsxs)(X.a,{onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:r,size:"small",children:[Object(I.jsxs)(x.a,{icon:!0,children:[Object(I.jsx)(H.a,{name:"add"}),"Ajouter un Produit"]}),Object(I.jsx)(X.a.Content,{children:Object(I.jsxs)(Z.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",b.name),t.append("description",b.description||""),t.append("nameCorsican",b.nameCorsican),t.append("descriptionCorsican",b.descriptionCorsican||""),t.append("region",b.region||""),t.append("price",b.price),t.append("type",b.type),t.append("category",b.category||""),t.append("subCategory",b.subCategory||""),t.append("choice",b.choice||!1),t.append("visible",b.visible||!0),t.append("image",b.image||""),t.append("showInShop",b.showInShop||!1),S?(g(!0),l()({method:"post",url:"".concat(a,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+S}}).then((function(e){e&&200===e.data.status&&(d(e.data.data),p({name:"",nameCorsican:"",region:"",description:"",descriptionCorsican:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:"",showInShop:!1})),n({success:200===e.data.status,message:e.data.message})})).then((function(){i(!1)})).catch((function(e){return n({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){g(!1)}))):o(!0)},id:"addProduct-form",children:[Object(I.jsxs)(Z.a.Field,{required:!0,error:!b.name,children:[Object(I.jsx)("label",{children:"Nom du Produit"}),Object(I.jsx)("input",{value:b.name,name:"name",type:"text",onChange:function(e){return y(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Nom du Produit en Corse"}),Object(I.jsx)("input",{value:b.nameCorsican,name:"nameCorsican",type:"text",onChange:function(e){return y(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Description"}),Object(I.jsx)("textarea",{value:b.description,name:"description",rows:"5",cols:"33",onChange:function(e){return y(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Description en Corse"}),Object(I.jsx)("textarea",{value:b.descriptionCorsican,name:"descriptionCorsican",rows:"5",cols:"33",onChange:function(e){return y(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"R\xe9gion"}),Object(I.jsx)("input",{value:b.region,name:"region",type:"text",onChange:function(e){return y(e)}})]}),Object(I.jsxs)(Z.a.Field,{required:!0,error:!b.price,children:[Object(I.jsx)("label",{children:"Prix"}),Object(I.jsx)("input",{min:1,step:.1,value:b.price,name:"price",type:"number",onChange:function(e){return y(e)}})]}),Object(I.jsxs)(Z.a.Field,{required:!0,error:!b.type,children:[Object(I.jsx)("label",{children:"Type de Produit"}),B.map((function(e){return e.slug&&Object(I.jsx)(te.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=b.type;t=e,p(Object(M.a)(Object(M.a)({},b),{},{type:t}))}(e.slug)},checked:b.type===e.slug},e.slug)}))]}),("cave"===b.type||"spuntinu"===b.type||"epicerie"===b.type)&&Object(I.jsxs)(Z.a.Field,{required:!0,error:!b.category,children:[Object(I.jsx)("label",{children:"Categorie de Produit"}),B.map((function(e){var t;return e.slug===b.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return Object(I.jsx)(te.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=b.category;t=e,p(Object(M.a)(Object(M.a)({},b),{},{category:t}))}(e.slug)},checked:b.category===e.slug},e.slug)})))}))]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Choix du Patron ?"}),Object(I.jsx)(te.a,{toggle:!0,checked:b.choice,onChange:function(){return p(Object(M.a)(Object(M.a)({},b),{},{choice:!b.choice}))}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Shoppable ?"}),Object(I.jsx)(te.a,{toggle:!0,checked:b.showInShop,onChange:function(){return p(Object(M.a)(Object(M.a)({},b),{},{showInShop:!b.showInShop}))}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("input",{ref:f,accept:"image/*",id:"addImage",files:b.image,type:"file",hidden:!0,onChange:function(e){return C(e)}}),Object(I.jsx)(v.a,{disabled:h,loading:h,type:"button",onClick:function(){return f.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(I.jsxs)(X.a.Actions,{children:[Object(I.jsxs)(v.a,{disabled:h||!b.name||!b.price||!b.type||("cave"===b.type||"spuntinu"===b.type||"epicerie"===b.type)&&!b.category,loading:h,color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(I.jsx)(H.a,{name:"add"})," Ajouter"]}),Object(I.jsxs)(v.a,{disabled:h,loading:h,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return i(!1)},children:[Object(I.jsx)(H.a,{name:"remove"})," Annuler"]})]})]})},ae=["image"],ce=function(e){var t=e.product,n=e.setOpenEditProductModal,r=e.openEditProductModal,i=e.setOpenLoginModal,o=e.setAppMessage,d=e.setProducts,u=(t.image,Object(y.a)(t,ae)),j=Object(c.useState)({name:u.name,nameCorsican:u.nameCorsican,region:u.region,description:u.description,descriptionCorsican:u.descriptionCorsican,price:u.price,type:u.type,category:u.category,subCategory:u.subCategory,choice:u.choice,visible:u.visible,showInShop:u.showInShop}),b=Object(s.a)(j,2),p=b[0],m=b[1],O=Object(c.useState)(!1),h=Object(s.a)(O,2),g=h[0],f=h[1];Object(c.useEffect)((function(){m(Object(M.a)({},u))}),[t]);var C=function(e){var t={};t[e.target.name]=e.target.value,m(Object(M.a)(Object(M.a)({},p),t))},S=localStorage.getItem("token-".concat(A));Object(c.useEffect)((function(){"rouges"===p.category&&"blancs"===p.category||m(Object(M.a)(Object(M.a)({},p),{},{subCategory:""}))}),[p.category]);return Object(I.jsxs)(X.a,{onClose:function(){return n(!1)},onOpen:function(){return n(!0)},open:r,size:"small",children:[Object(I.jsxs)(x.a,{icon:!0,children:[Object(I.jsx)(H.a,{name:"edit"}),"Editer ",u.name]}),Object(I.jsx)(X.a.Content,{children:Object(I.jsxs)(Z.a,{onSubmit:function(e){e.preventDefault(),S?(f(!0),l()({method:"post",url:"".concat(a,"/api/products/updateProduct"),data:{update:p,productId:u._id},headers:{Authorization:"Bearer "+S}}).then((function(e){e&&200===e.data.status&&d(e.data.data),o({success:200===e.data.status,message:e.data.message})})).catch((function(e){o({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){f(!1),n(!1)}))):(n(!1),i(!0))},id:"editProduct-form",children:[Object(I.jsxs)(Z.a.Field,{required:!0,error:!p.name,children:[Object(I.jsx)("label",{children:"Nom du Produit"}),Object(I.jsx)("input",{value:p.name,name:"name",type:"text",onChange:function(e){return C(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Nom du Produit en Corse"}),Object(I.jsx)("input",{value:p.nameCorsican,name:"nameCorsican",type:"text",onChange:function(e){return C(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Description"}),Object(I.jsx)("textarea",{value:p.description,name:"description",rows:"5",cols:"33",onChange:function(e){return C(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Description en Corse"}),Object(I.jsx)("textarea",{value:p.descriptionCorsican,name:"descriptionCorsican",rows:"5",cols:"33",onChange:function(e){return C(e)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"R\xe9gion"}),Object(I.jsx)("input",{value:p.region,name:"region",type:"text",onChange:function(e){return C(e)}})]}),Object(I.jsxs)(Z.a.Field,{required:!0,error:!p.price,children:[Object(I.jsx)("label",{children:"Prix"}),Object(I.jsx)("input",{min:1,step:.1,value:p.price,name:"price",type:"number",onChange:function(e){return C(e)}})]}),Object(I.jsxs)(Z.a.Field,{required:!0,error:!p.type,children:[Object(I.jsx)("label",{children:"Type de Produit"}),B.map((function(e){return e.slug&&Object(I.jsx)(te.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=p.type;t=e,m(Object(M.a)(Object(M.a)({},p),{},{type:t}))}(e.slug)},checked:p.type===e.slug},e.slug)}))]}),("cave"===p.type||"spuntinu"===p.type||"epicerie"===t.type)&&Object(I.jsxs)(Z.a.Field,{required:!0,error:!p.category,children:[Object(I.jsx)("label",{children:"Categorie de Produit"}),B.map((function(e){var t;return e.slug===p.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return Object(I.jsx)(te.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=p.category;t=e,m(Object(M.a)(Object(M.a)({},p),{},{category:t}))}(e.slug)},checked:p.category===e.slug},e.slug)})))}))]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Choix du Patron ?"}),Object(I.jsx)(te.a,{toggle:!0,checked:p.choice,onChange:function(){return m(Object(M.a)(Object(M.a)({},p),{},{choice:!p.choice}))}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Shoppable ?"}),Object(I.jsx)(te.a,{toggle:!0,checked:p.showInShop,onChange:function(){return m(Object(M.a)(Object(M.a)({},p),{},{showInShop:!p.showInShop}))}})]})]})}),Object(I.jsxs)(X.a.Actions,{children:[Object(I.jsxs)(v.a,{disabled:g||!p.name||!p.price||!p.type||("cave"===p.type||"spuntinu"===p.type||"epicerie"===t.type)&&!p.category,loading:g,color:"purple",type:"submit",form:"editProduct-form",inverted:!0,children:[Object(I.jsx)(H.a,{name:"edit"})," Editer"]}),Object(I.jsxs)(v.a,{disabled:g,loading:g,color:"red",type:"submit",form:"editProduct-form",inverted:!0,onClick:function(){return n(!1)},children:[Object(I.jsx)(H.a,{name:"remove"})," Annuler"]})]})]})},re=function(e){var t,n=e.openImageModal,a=e.setOpenImageModal,c=e.product,r=c.image,i=c.name,s="data:".concat(null===r||void 0===r?void 0:r.contentType,";base64,"),o=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.data);return Object(I.jsxs)(X.a,{closeIcon:!0,basic:!0,open:n,onClose:function(){return a(!1)},children:[Object(I.jsx)(x.a,{children:i}),Object(I.jsx)(X.a.Content,{children:Object(I.jsx)("img",{style:{width:"100%"},src:s+o,alt:i})})]})},ie=function(e){var t=e.setOpenLoginModal,n=e.openLoginModal,r=e.setUser,i=e.setAppMessage,o=Object(c.useState)(""),d=Object(s.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)(""),p=Object(s.a)(b,2),m=p[0],O=p[1],h=Object(c.useState)(!1),g=Object(s.a)(h,2),f=g[0],y=g[1];return Object(I.jsxs)(X.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:n,size:"small",children:[Object(I.jsxs)(x.a,{icon:!0,children:[Object(I.jsx)(H.a,{name:"user"}),"Se Connecter"]}),Object(I.jsx)(X.a.Content,{children:Object(I.jsxs)(Z.a,{onSubmit:function(e){e.preventDefault(),y(!0),l()({method:"post",url:"".concat(a,"/auth/login"),data:{email:u,password:m}}).then((function(e){r(e.data.user.role),i({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-".concat(A),e.data.token),t(!1)})).catch((function(e){i({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){y(!1)}))},id:"auth-form",children:[Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"E-Mail"}),Object(I.jsx)("input",{value:u,type:"email",onChange:function(e){return j(e.target.value)}})]}),Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("label",{children:"Mot de passe"}),Object(I.jsx)("input",{type:"password",value:m,onChange:function(e){return O(e.target.value)}})]})]})}),Object(I.jsx)(X.a.Actions,{children:Object(I.jsxs)(v.a,{color:"green",loading:f,type:"submit",form:"auth-form",disabled:0===u.length||0===m.length||f,inverted:!0,children:[Object(I.jsx)(H.a,{name:"checkmark"})," Connexion"]})})]})},se=n(29),oe=(n(272),function(e){var t=e.setOpenPaymentModal,n=e.openPaymentModal,r=e.setOrder,i=e.order,o=e.setCart,u=e.socket,j=e.tableNumber,b=Object(d.useStripe)(),m=Object(d.useElements)(),h=Object(c.useState)({name:"",email:"",tableNumber:j,tel:"",date:"",items:[],status:"",transaction:{}}),g=Object(s.a)(h,2),f=g[0],y=g[1],C=Object(c.useState)(!1),k=Object(s.a)(C,2),A=k[0],N=k[1],P=Object(c.useState)(null),z=Object(s.a)(P,2),F=z[0],E=z[1],L=Object(c.useState)(!1),D=Object(s.a)(L,2),V=D[0],B=D[1],U=Object(c.useState)(!0),R=Object(s.a)(U,2),T=R[0],q=R[1],_=Object(c.useState)(""),Y=Object(s.a)(_,2),J=Y[0],W=Y[1];Object(c.useEffect)((function(){(N(!0),n)&&(y(Object(M.a)(Object(M.a)({},f),{},{tableNumber:j})),function(){var e=Object(Q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()({method:"post",url:"".concat(a,"/api/orders/create-payment-intent"),data:{items:i}});case 2:(t=e.sent)&&200===t.data.status?(W(t.data.clientSecret),N(!1),y(Object(M.a)(Object(M.a)({},f),{},{items:Object(O.a)(i)}))):E("Il y a eu un probl\xe9me veuillez recharger la page");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),E(null))}),[n]);var G=function(e){var t={};t[e.target.name]=e.target.value,y(Object(M.a)(Object(M.a)({},f),t))},$=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(t.empty),E(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(Q.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N(!0),b&&m){e.next=5;break}return q(!0),e.abrupt("return");case 5:return e.next=7,b.confirmCardPayment(J,{receipt_email:f.email,payment_method:{card:m.getElement(d.CardElement),billing_details:{email:f.email,name:f.name,phone:f.tel}}});case 7:(n=e.sent).error?(E("Le paiement \xe0 \xe9chou\xe9 pour la raison suivante : ".concat(n.error.message)),N(!1)):(N(!0),f.status="PAID",f.transaction=n,f.date=w(),y(Object(M.a)({},f)),function(){var e=Object(Q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()({method:"post",url:"".concat(a,"/api/orders/createOrder"),data:f});case 2:(t=e.sent)&&200===t.data.status?(u.emit("newOrder",t.data.order,(function(e){e&&alert(e)})),N(!1),r([]),y({}),o([])):E("Il y a eu un probl\xe9me veuillez recharger la page");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),E(null),N(!1),B(!0));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(X.a,{onClose:function(){return t(!1)},open:n,size:"small",children:[Object(I.jsxs)(x.a,{icon:!0,children:[Object(I.jsx)(H.a,{color:F?"red":V?"green":"blue",name:F?"remove circle":V?"check":"dollar sign"}),Object(I.jsx)("span",{style:{color:F?"red":V?"green":"blue"},children:F?"Paiement \xc9chou\xe9":V?"Paiement Reussi":A?"Paiement en Cours":"Payer Votre Commande"}),Object(I.jsx)(p.a,{warning:!0,header:"ATTENTION !",content:"Les commandes sont trait\xe9es en 24h , vous pourrez recuperer votre commande d\xe9s demain !"}),Object(I.jsxs)("div",{className:V?"result-message-container":"result-message-container hidden",children:[Object(I.jsxs)("p",{className:V?"result-message":"result-message hidden",children:["Votre r\xe9servation est effectu\xe9e, vous pourrez recuperer votre commande le"," ",Object(I.jsxs)("span",{className:"result-message-date",children:[w()," "]}),"\xe0 partir de"," ",Object(I.jsxs)("span",{className:"result-message-date",children:[" ","11h"]})]}),Object(I.jsx)("p",{className:V?"result-message":"result-message hidden",children:"chez Piuma au 42 Cours Napol\xe9on"})]})]}),!V&&Object(I.jsxs)(X.a.Content,{children:[Object(I.jsx)("div",{className:"cart-total",children:Object(I.jsxs)("span",{style:{color:"black"},children:["Total: ",S(i).toFixed(2)," ",Object(I.jsx)("small",{children:"\u20ac"})]})}),Object(I.jsxs)(Z.a,{onSubmit:ee,id:"payment-form",loading:A,children:[Object(I.jsxs)(Z.a.Field,{required:!0,children:[Object(I.jsx)("label",{children:"Nom sur votre carte"}),Object(I.jsx)("input",{value:f.name,name:"name",type:"text",onChange:function(e){return G(e)}})]}),Object(I.jsxs)(Z.a.Field,{required:!0,children:[Object(I.jsx)("label",{children:"Num\xe9ro de table"}),Object(I.jsx)("input",{value:f.tableNumber,name:"tableNumber",type:"text",onChange:function(e){return G(e)}})]}),Object(I.jsxs)(Z.a.Field,{required:!0,children:[Object(I.jsx)("label",{children:"Votre Email"}),Object(I.jsx)("input",{value:f.email,name:"email",type:"email",onChange:function(e){return G(e)}})]}),Object(I.jsxs)(Z.a.Field,{required:!0,children:[Object(I.jsx)("label",{children:"Votre Telephone"}),Object(I.jsx)("input",{value:f.tel,name:"tel",type:"tel",onChange:function(e){return G(e)}})]}),Object(I.jsx)(d.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:$})]})]}),Object(I.jsxs)(X.a.Actions,{children:[V?Object(I.jsx)(se.b,{to:"/categories/spuntinu",children:Object(I.jsx)(v.a,{style:{alignItems:"center"},type:"button",color:"green",size:"massive",onClick:function(){return t(!1)},children:"Retour \xe0 la boutique"})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.a,{form:"payment-form",type:"submit",color:"blue",size:"massive",disabled:A||T||V||!b||!f.name||!f.email||!f.tableNumber||0===!f.items.length||!f.tel,loading:A,children:"Payer"}),Object(I.jsx)(v.a,{type:"button",color:"orange",size:"massive",onClick:function(){return t(!1)},children:"Retour au Panier"})]}),F&&Object(I.jsx)("div",{className:"card-error",role:"alert",children:F})]})]})}),le=function(e){var t,n=e.openUpdateImageModal,r=e.setOpenUpdateImageModal,i=e.product,o=e.setProducts,d=e.setOpenLoginModal,u=e.setAppMessage,j=Object(c.useState)(""),b=Object(s.a)(j,2),p=b[0],m=b[1],O=Object(c.useState)(!1),h=Object(s.a)(O,2),g=h[0],y=h[1],C=Object(c.useRef)(null),S=i._id,k=i.name,w=i.image;Object(c.useEffect)((function(){p&&function(e){var t=document.querySelector(".showimage"),n=new FileReader;t&&(n.onload=function(){t.src=n.result},n.readAsDataURL(e))}(p)}),[p]);var N=localStorage.getItem("token-".concat(A)),M="data:".concat(null===w||void 0===w?void 0:w.contentType,";base64,"),P=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.data);return Object(I.jsxs)(X.a,{open:n,onClose:function(){return r(!1)},children:[Object(I.jsxs)(x.a,{icon:!0,children:[Object(I.jsx)(H.a,{name:"image"}),"Editer l'image"]}),(w||p)&&Object(I.jsx)(f.a,{children:Object(I.jsx)("img",{className:"showimage",style:{width:"100%",height:"100%"},src:M+P,alt:k})}),Object(I.jsx)(X.a.Content,{children:Object(I.jsx)(Z.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",p);var n=localStorage.getItem("token-".concat(A));n?(y(!0),l()({method:"post",url:"".concat(a,"/api/products/updateProductImage/").concat(S),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+n}}).then((function(e){e&&200===e.data.status&&o(e.data.data),u({success:200===e.data.status,message:e.data.message})})).then((function(){r(!1),m("")})).catch((function(e){return console.log(e)})).finally((function(){return y(!1)}))):(r(!1),d(!0))},id:"editImage-form",children:Object(I.jsxs)(Z.a.Field,{children:[Object(I.jsx)("input",{ref:C,accept:"image/*",id:"addImage",files:p,type:"file",hidden:!0,onChange:function(e){$.a.imageFileResizer(e.target.files[0],400,400,"JPEG",100,0,(function(e){m(e)}),"file")}}),Object(I.jsx)(v.a,{disabled:g,loading:g,type:"button",onClick:function(){return C.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(I.jsxs)(X.a.Actions,{children:[p&&Object(I.jsxs)(v.a,{loading:g,disabled:g,color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(I.jsx)(H.a,{name:"add"})," Envoyer l'image pour ",k]}),w&&Object(I.jsxs)(v.a,{loading:g,disabled:g,type:"button",color:"red",form:"editImage-form",inverted:!0,onClick:function(){N?(y(!0),l()({method:"post",url:"".concat(a,"/api/products/updateProduct"),data:{update:{image:""},productId:S},headers:{Authorization:"Bearer "+N}}).then((function(e){o(e.data.data),u({success:200===e.data.status,message:"Image supprim\xe9e avec succ\xe9s"})})).catch((function(e){return console.log(e)})).finally((function(){y(!1),r(!1)}))):(r(!1),d(!0))},children:[Object(I.jsx)(H.a,{name:"delete"})," Supprimer l'image pour ",k]}),Object(I.jsxs)(v.a,{loading:g,disabled:g,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return r(!1)},children:[Object(I.jsx)(H.a,{name:"remove"})," Annuler"]})]})]})},de=n(334),ue=n(335),je=n(336),be=(n(273),function(e){var t=e.selectedCategory,n=e.setActiveMenu,a=e.activeMenu,r=e.products,i=e.setFilteredProducts,s=e.setSelectedCategory,o=e.sidebarVisible,l=e.setSidebarVisible,d=e.children;return Object(c.useEffect)((function(){t&&(n(""),i([]),i(r.filter((function(e){return e.type===t.slug&&e.category===a})))),"cave"===t.slug||"spuntinu"===t.slug||"epicerie"===t.slug?t.subCategories.find((function(e){return e.slug===a}))?n(a):n(t.subCategories[0].slug):i(r.filter((function(e){return e.type===t.slug})))}),[t]),Object(I.jsx)(de.a,{columns:1,children:Object(I.jsx)(de.a.Column,{children:Object(I.jsxs)(ue.a.Pushable,{as:je.a,children:[Object(I.jsxs)(ue.a,{style:{background:"white"},as:L.a,animation:"overlay",icon:"labeled",onHide:function(){return l(!1)},onShow:function(){return l(!0)},vertical:!0,visible:o,width:"thin",children:[Object(I.jsx)(se.b,{to:"/",onClick:function(){return s({})},children:Object(I.jsx)(L.a.Item,{className:"categories-sidebar-item",children:Object(I.jsx)(L.a.Header,{children:Object(I.jsx)("img",{width:"100px",src:"./assets/images/logo.png",alt:"logo piuma"})})})}),Object(I.jsx)(m.a,{}),B.map((function(e){return Object(I.jsx)(se.b,{to:"/categories/".concat(e.slug),onClick:function(){s(e),l(!1)},children:Object(I.jsxs)(L.a.Item,{className:"categories-sidebar-item",children:[Object(I.jsx)(L.a.Header,{children:e.icon}),Object(I.jsx)("span",{children:e.name})]})},e.slug)}))]}),Object(I.jsx)(ue.a.Pusher,{dimmed:o,children:Object(I.jsx)(je.a,{basic:!0,children:d})})]})})})}),pe=n(163),me=(n(274),function(e){e.facebookUrl,e.instagramUrl,e.email,e.phoneNumber,e.backgroundColor,e.productBackgroundColor,e.textColor,e.titleColor;return Object(I.jsxs)("div",{className:"footer",children:[Object(I.jsx)("div",{children:Object(I.jsx)(x.a,{as:"h3",children:"Retrouvez nous sur : "})}),Object(I.jsxs)("div",{className:"footer__icons",children:[Object(I.jsx)("a",{target:"_blank",href:"fb://profile/104822281341917",rel:"noreferrer",children:Object(I.jsx)(g.a,{style:{color:"#3B5998",background:"white",borderRadius:"100%"},size:"3x",icon:pe.a,pull:"left"})}),Object(I.jsx)("a",{target:"_blank",href:"https://www.instagram.com/a_piuma_/?hl=fr",rel:"noreferrer",children:Object(I.jsx)(g.a,{style:{color:"#3F729B",borderRadius:"100%"},size:"3x",icon:pe.b,pull:"right"})})]}),Object(I.jsx)(m.a,{}),Object(I.jsx)("div",{children:Object(I.jsx)(x.a,{as:"h3",children:"Contactez nous ! "})}),Object(I.jsxs)("div",{className:"footer__icons",children:[Object(I.jsx)("a",{href:"mailto:cafe-rotisserie@piuma.corsica",children:Object(I.jsx)(g.a,{style:{"--fa-primary-color":"white","--fa-secondary-color":"black","--fa-secondary-opacity":.8},size:"3x",icon:h.g,pull:"left"})}),Object(I.jsx)("a",{href:"tel:06 23 47 66 66",children:Object(I.jsx)(g.a,{style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"black","--fa-primary-opacity":1,"--fa-secondary-opacity":1},size:"3x",icon:h.p,pull:"right"})})]}),Object(I.jsx)(m.a,{}),Object(I.jsxs)("div",{className:"footer__copyright",style:{color:"black"},children:["Copyright \xa9 ",Object(I.jsx)("a",{style:{color:"black"},href:"https://piuma.corsica",children:Object(I.jsx)("span",{children:"Piuma \xa0"})}),Object(I.jsx)("span",{children:" ".concat((new Date).getFullYear(),". ")})]}),Object(I.jsx)("div",{className:"footer__alvp",children:Object(I.jsxs)("a",{style:{color:"black",fontSize:"1em"},href:"mailto:pef@alvp-developments.com",children:["Made with",Object(I.jsx)(g.a,{className:"alvp__icon",color:"darkred",icon:h.l,size:"2x"}),"by ALVP-Developments Ajaccio"]})})]})}),Oe=(n(275),function(e){var t=e.setSelectedCategory,n=e.setSidebarVisible,a=e.setOpenLoginModal,r=e.user,i=e.loading,o=e.cart,l=e.isAProductShoppable,d=Object(c.useState)(!1),u=Object(s.a)(d,2);u[0],u[1];return Object(I.jsxs)("div",{className:"topappbar",children:[Object(I.jsx)(se.b,{to:"/",onClick:function(){return t({})},children:Object(I.jsx)("div",{className:"topappbar-image",children:Object(I.jsx)("img",{width:"100px",src:"./assets/images/logo.png",alt:"logo piuma"})})}),Object(I.jsxs)("div",{className:"topappbar-icons",children:[Object(I.jsx)(v.a,{disabled:i,loading:i,icon:!0,circular:!0,color:r?"green":"grey",onClick:function(){return a(!0)},children:Object(I.jsx)(g.a,{size:"2x",icon:h.z})}),Object(I.jsx)(v.a,{disabled:i,loading:i,icon:!0,circular:!0,onClick:function(){return n(!0)},children:Object(I.jsx)(g.a,{size:"2x",icon:h.b})}),l&&Object(I.jsx)(se.b,{to:"/panier",children:Object(I.jsx)(v.a,{disabled:i,loading:i,color:"orange",icon:!0,circular:!0,onClick:function(){return console.log("cart clicked")},children:Object(I.jsxs)("span",{style:{position:"relative"},className:"fa-layers fa-2x fa-fw",children:[Object(I.jsx)(g.a,{icon:h.v}),Object(I.jsx)("span",{style:{position:"absolute",top:"-23px",right:"-12px"},className:"fa-layers-top-right fa-layers-counter fa-2x",children:o.length})]})})})]}),0!==S(o)&&Object(I.jsxs)("span",{className:"cartamount",children:["Montant dans votre panier : ",S(o).toFixed(2),Object(I.jsx)("small",{children:"\u20ac"})]})]})}),he=(n(276),n(277),n(329),n(143),n(93),n(328),Object(u.a)("pk_test_eAyr9trbJArTYHJJgEePgULj00lTTB2TXk")),ge=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)({}),o=Object(s.a)(i,2),u=o[0],O=o[1],h=Object(c.useState)(""),g=Object(s.a)(h,2),f=g[0],x=g[1],v=Object(c.useState)(""),y=Object(s.a)(v,2),C=y[0],S=y[1],k=Object(c.useState)(""),w=Object(s.a)(k,2),A=w[0],M=w[1],P=Object(c.useState)(!1),z=Object(s.a)(P,2),F=z[0],E=z[1],L=Object(c.useState)(!1),D=Object(s.a)(L,2),V=D[0],B=D[1],U=Object(c.useState)(!1),R=Object(s.a)(U,2),T=R[0],_=R[1],Y=Object(c.useState)(!1),W=Object(s.a)(Y,2),K=W[0],Q=W[1],X=Object(c.useState)(!1),H=Object(s.a)(X,2),Z=H[0],G=H[1],$=Object(c.useState)(!1),te=Object(s.a)($,2),ae=te[0],se=te[1],de=Object(c.useState)(!1),ue=Object(s.a)(de,2),je=(ue[0],ue[1]),pe=Object(c.useState)({}),ge=Object(s.a)(pe,2),fe=ge[0],xe=ge[1],ve=Object(c.useState)([]),ye=Object(s.a)(ve,2),Ce=ye[0],Se=ye[1],ke=Object(c.useState)({}),we=Object(s.a)(ke,2),Ae=we[0],Ie=we[1],Ne=Object(c.useState)(!1),Me=Object(s.a)(Ne,2),Pe=Me[0],ze=Me[1],Fe=Object(c.useState)({}),Ee=Object(s.a)(Fe,2),Le=Ee[0],De=Ee[1],Ve=Object(c.useState)([]),Be=Object(s.a)(Ve,2),Ue=Be[0],Re=Be[1],Te=Object(c.useState)(!1),qe=Object(s.a)(Te,2),_e=(qe[0],qe[1]),Ye=Object(c.useState)([]),Je=Object(s.a)(Ye,2),We=Je[0],Ke=Je[1],Qe=Object(c.useState)([]),Xe=Object(s.a)(Qe,2),He=Xe[0],Ze=Xe[1],Ge=Object(c.useState)(!1),$e=Object(s.a)(Ge,2),et=$e[0],tt=$e[1],nt=Ce.some((function(e){return e.showInShop})),at=window.location.pathname.replace("/","");return Object(c.useEffect)((function(){0!==Object.keys(Ae).length&&setTimeout((function(){Ie({})}),5e3)}),[Ae]),Object(c.useEffect)((function(){ze(!0),l.a.get("".concat(a,"/api/products/allProducts")).then((function(e){e&&Se(e.data.data)})).catch((function(e){return Ie({success:!1,message:"Il y a eu un probl\xe9me, veuillez recharger la page"})})).finally((function(){return ze(!1)})),_e(!0),l.a.get("".concat(a,"/api/events/getEvent")).then((function(e){e&&De(e.data.data)})).catch((function(e){Ie({success:!1,message:"Il y a eu un probl\xe9me, veuillez recharger la page"})})).finally((function(){return _e(!1)}))}),[]),Object(I.jsx)("div",{className:"App",style:{position:"relative"},children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(b.a,{animation:"jiggle",duration:500,visible:Object.keys(Ae).length>0,children:Object(I.jsx)(p.a,{style:{position:"fixed",top:15,zIndex:"1000",width:"100%"},hidden:0===Object.keys(Ae).length,success:!!Ae.success,error:!Ae.success,children:Ae.message})}),Object(I.jsxs)(be,{setActiveMenu:x,activeMenu:f,setDropdownValue:S,selectedCategory:u,setFilteredProducts:Re,products:Ce,sidebarVisible:n,setSidebarVisible:r,setSelectedCategory:O,children:[Object(I.jsx)(Oe,{cart:He,setCart:Ze,setSelectedCategory:O,loading:Pe,user:A,setSidebarVisible:r,setOpenLoginModal:E,isAProductShoppable:nt}),Object(I.jsx)(m.a,{hidden:!0}),Object(I.jsx)(ie,{setUser:M,openLoginModal:F,setOpenLoginModal:E,setAppMessage:Ie}),Object(I.jsxs)(j.c,{children:[Object(I.jsxs)(j.a,{exact:!0,path:"/",children:[Object(I.jsx)(ee,{setEvent:De,setAppMessage:Ie,setOpenLoginModal:E,openAddEventModal:ae,setOpenAddEventModal:se}),Object(I.jsx)(J,{user:A,event:Le,products:Ce,setEvent:De,setSelectedCategory:O,setActiveMenu:x,setOpenLoginModal:E,setOpenAddEventModal:se,setOpenEditEventModal:je})]}),Object(I.jsxs)(j.a,{path:"/categories/:categorie",children:[Object(I.jsx)(ne,{setProducts:Se,selectedCategory:u,setOpenLoginModal:E,setAppMessage:Ie,openAddProductModal:V,setOpenAddProductModal:B}),Object(I.jsx)(ce,{product:fe,setOpenEditProductModal:_,setAppMessage:Ie,setOpenLoginModal:E,openEditProductModal:T,setProducts:Se}),Object(I.jsx)(le,{openUpdateImageModal:Z,setOpenUpdateImageModal:G,setProducts:Se,product:fe,setOpenLoginModal:E,setAppMessage:Ie}),Object(I.jsx)(re,{openImageModal:K,setOpenImageModal:Q,product:fe}),Object(I.jsx)(q,{filteredProducts:Ue,setFilteredProducts:Re,user:A,setCart:Ze,cart:He,selectedCategory:u,activeMenu:f,setActiveMenu:x,dropdownValue:C,setDropdownValue:S,products:Ce,setProducts:Se,setOpenLoginModal:E,setOpenAddProductModal:B,setOpenImageModal:Q,setOpenUpdateImageModal:G,setOpenEditProductModal:_,setSelectedProduct:xe})]}),nt&&Object(I.jsxs)(j.a,{path:"/panier",children:[Object(I.jsx)(N,{setOpenPaymentModal:tt,cart:He,setCart:Ze,order:We,setOrder:Ke}),Object(I.jsx)(d.Elements,{stripe:he,children:Object(I.jsx)(oe,{tableNumber:at,setOpenPaymentModal:tt,openPaymentModal:et,setOrder:Ke,setCart:Ze,cart:He,order:We,socket:undefined})})]})]}),Object(I.jsx)(m.a,{}),Object(I.jsx)(me,{})]})]})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,338)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(307);i.a.render(Object(I.jsx)(se.a,{basename:"/",children:Object(I.jsx)(ge,{})}),document.getElementById("root")),fe()}},[[308,1,2]]]);
//# sourceMappingURL=main.9e5f2a12.chunk.js.map