{"version":3,"sources":["components/App/App.js","utils/functions.js","_const/_const.js","pages/Cart/index.js","components/Small/AdminCrudButtons/index.js","components/Small/ProductItem/index.js","components/Small/ProductsFilteringMenu/index.js","datas/categories.js","pages/Categories/index.js","pages/Home/index.js","components/Medium/Modals/AddEvent/index.js","components/Medium/Modals/AddProduct/index.js","components/Medium/Modals/EditProduct/index.js","components/Medium/Modals/ImageModal/index.js","components/Medium/Modals/Login/index.js","components/Medium/Modals/PaymentModal/index.js","components/Medium/Modals/UpdateImageModal/index.js","components/Small/CategoriesSidebar/index.js","components/Small/Copyright/index.js","components/Small/TopAppBar/index.js","pages/Orders/index.js","pages/Waiter/index.js","reportWebVitals.js","index.js"],"names":["socket","getCartAmount","cart","length","reduce","acc","amt","weight","price","addToCart","setCart","CurrentCart","currentProduct","newCurrentProduct","image","calculateDate","date","Date","toLocaleString","weekday","setDate","getDate","toISOString","split","$SERVER","tokenName","Cart","order","setOrder","setOpenPaymentModal","reducedCart","product","_id","r","Object","keys","map","key","id","count","useEffect","Container","className","Header","style","color","as","textDecoration","day","dday","getTheDay","Divider","toFixed","Button","type","size","disabled","some","item","region","toLowerCase","onClick","p","search","find","name","description","infos","icon","circular","productId","index","findIndex","newCart","splice","removeFromCart","faMinus","faPlus","width","cols","rows","value","onChange","e","foundProductObject","target","i","newOrder","setComplementaryInfos","placeholder","required","Number","setProductWeight","AdminCrudButtons","loading","visible","choice","showInShop","handleDeleteProduct","handleChangeChoice","handleChangeVisibility","handleChangeShoppable","setSelectedProduct","setOpenEditProductModal","setOpenUpdateImageModal","ProductItem","category","user","setOpenImageModal","history","useHistory","userLang","navigator","language","userLanguage","cacheProvider","get","JSON","parse","localStorage","getItem","set","existing","setItem","stringify","display","role","border","decodeURI","location","hash","replace","marginLeft","faSearch","faHeartCircle","faCartPlus","filter","from","to","substr","googleApiKey","ProductsFilteringMenu","dropdownValue","subCategories","activeMenu","setActiveMenu","setDropdownValue","products","Menu","compact","borderless","position","subCategory","subCat","top","right","zIndex","slug","Dropdown","text","direction","sc","Item","active","categories","faTurkey","faAppleCrate","faFrenchFries","faHatChef","faJug","faSack","faPig","faSausage","faCheese","faCookieBite","details","faWineBottle","faGlassChampagne","faBeer","faGlassCitrus","Categories","setFilteredProducts","selectedCategory","filteredProducts","setOpenAddProductModal","setProducts","setOpenLoginModal","useParams","useState","setLoading","prevDropdownValueRef","useRef","current","token","axios","method","url","data","headers","Authorization","then","response","catch","error","console","log","finally","newProduct","update","fontSize","subc","hidden","sort","a","b","Home","event","setEvent","setOpenAddEventModal","setSelectedCategory","like","setLike","vote","removeItem","findProductsImages","array","randomIndex","currentIndex","Math","floor","random","slice","shuffle","findCategory","arrayBufferToBase64","buffer","binary","call","Uint8Array","forEach","String","fromCharCode","window","btoa","base64Flag","contentType","imageStr","eventId","faTrashAlt","src","alt","toLocaleDateString","month","faThumbsUp","background","borderRadius","padding","justifyContent","showArrows","showThumbs","infiniteLoop","smooth","height","AddEventModal","setAppMessage","openAddEventModal","newEvent","setNewEvent","changeEvent","updatedValue","setImage","Resizer","imageFileResizer","files","uri","inputEventFile","Modal","closeIcon","onClose","onOpen","open","Icon","Content","Form","onSubmit","preventDefault","formData","FormData","append","status","success","message","Field","min","ref","accept","click","inverted","Actions","form","AddProductModal","openAddProductModal","setProduct","inputFile","changeProduct","step","cat","Radio","label","selectedCheckboxes","onChangeTypeRadio","checked","subC","onChangeCategoryRadio","toggle","EditProductModal","openEditProductModal","editedProduct","setEditedProduct","ImageModal","openImageModal","basic","Login","openLoginModal","setUser","email","setEmail","password","setPassword","PaymentModal","openPaymentModal","tableNumber","stripe","useStripe","elements","useElements","tel","items","transaction","setNewOrder","setError","succeeded","setSucceeded","setDisabled","clientSecret","setClientSecret","fetchData","changeOrder","handleChange","empty","handleSubmit","confirmCardPayment","receipt_email","payment_method","card","getElement","CardElement","billing_details","phone","payload","emit","alert","createOrder","Message","warning","header","content","options","base","fontFamily","fontSmoothing","invalid","iconColor","alignItems","UpdateImageModal","openUpdateImageModal","updateFile","productImage","showimage","document","querySelector","reader","FileReader","onload","result","readAsDataURL","handleChangeImage","imageFormData","CategoriesSidebar","sidebarVisible","setSidebarVisible","children","Grid","columns","Column","Sidebar","Pushable","Segment","animation","onHide","onShow","vertical","Pusher","dimmed","Copyright","facebookUrl","instagramUrl","phoneNumber","backgroundColor","productBackgroundColor","textColor","titleColor","href","rel","faFacebook","pull","faInstagram","faEnvelope","faPhone","getFullYear","faHeart","TopAppBar","isAProductShoppable","faUser","faBars","faShoppingBasket","Orders","allOrders","setAllOrders","barReady","setBarReady","cuisineReady","setCuisineReady","getOrders","orders","updateOrder","orderId","foundOrder","on","checkIfOrderItemContainsType","string","Table","celled","Row","HeaderCell","Body","amount","positive","Cell","Label","ribbon","TableCell","paymentIntent","List","lineHeight","textTransform","textAlign","validatedOrder","o","newAllOrders","validateBarOrder","validateCuisineOrder","Waiter","setNewWaiter","newOrders","setNewOrders","waiter","stripePromise","loadStripe","App","setOpenEditEventModal","selectedProduct","appMessage","setEventLoading","pathname","io","setTimeout","Transition","duration","exact","path","AddEvent","AddProduct","EditProduct","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","basename","getElementById"],"mappings":"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","file":"static/js/main.d37a21fa.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\nimport axios from \"axios\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router\";\nimport { Button, Divider, Message, Transition } from \"semantic-ui-react\";\nimport Cart from \"../../pages/Cart\";\nimport Categories from \"../../pages/Categories\";\nimport Home from \"../../pages/Home\";\nimport { $SERVER, showShop, stripePublic } from \"../../_const/_const\";\nimport AddEventModal from \"../Medium/Modals/AddEvent\";\nimport AddProductModal from \"../Medium/Modals/AddProduct\";\nimport EditProductModal from \"../Medium/Modals/EditProduct\";\nimport ImageModal from \"../Medium/Modals/ImageModal\";\nimport Login from \"../Medium/Modals/Login\";\nimport PaymentModal from \"../Medium/Modals/PaymentModal\";\nimport UpdateImageModal from \"../Medium/Modals/UpdateImageModal\";\nimport CategoriesSidebar from \"../Small/CategoriesSidebar\";\nimport Copyright from \"../Small/Copyright\";\nimport TopAppBar from \"../Small/TopAppBar\";\nimport \"./App.css\";\n\nimport io from \"socket.io-client\";\nimport Orders from \"../../pages/Orders\";\nimport Waiter from \"../../pages/Waiter\";\n\nconst stripePromise = loadStripe(stripePublic);\nlet socket;\n\nconst App = () => {\n  const [sidebarVisible, setSidebarVisible] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState({});\n  const [activeMenu, setActiveMenu] = useState(\"\");\n  const [dropdownValue, setDropdownValue] = useState(\"\");\n  const [user, setUser] = useState(\"\");\n  const [openLoginModal, setOpenLoginModal] = useState(false);\n  const [openAddProductModal, setOpenAddProductModal] = useState(false);\n  const [openEditProductModal, setOpenEditProductModal] = useState(false);\n  const [openImageModal, setOpenImageModal] = useState(false);\n  const [openUpdateImageModal, setOpenUpdateImageModal] = useState(false);\n  const [openAddEventModal, setOpenAddEventModal] = useState(false);\n  const [openEditEventModal, setOpenEditEventModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState({});\n  const [products, setProducts] = useState([]);\n  const [appMessage, setAppMessage] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [event, setEvent] = useState({});\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [eventLoading, setEventLoading] = useState(false);\n\n  const [order, setOrder] = useState([]);\n\n  const [cart, setCart] = useState([]);\n\n  const [openPaymentModal, setOpenPaymentModal] = useState(false);\n\n  const isAProductShoppable = products.some((product) => product.showInShop);\n\n  const tableNumber = window.location.pathname.replace(\"/\", \"\");\n\n  useEffect(() => {\n    socket = io($SERVER);\n  }, [$SERVER]);\n\n  useEffect(() => {\n    if (Object.keys(appMessage).length !== 0) {\n      setTimeout(() => {\n        setAppMessage({});\n      }, 5000);\n    }\n  }, [appMessage]);\n  useEffect(() => {\n    setLoading(true);\n    axios\n      .get(`${$SERVER}/api/products/allProducts`)\n      .then((response) => {\n        if (response) {\n          setProducts(response.data.data);\n        }\n      })\n      .catch((error) =>\n        setAppMessage({\n          success: false,\n          message: \"Il y a eu un problme, veuillez recharger la page\",\n        })\n      )\n      .finally(() => setLoading(false));\n\n    setEventLoading(true);\n    axios\n      .get(`${$SERVER}/api/events/getEvent`)\n      .then((response) => {\n        if (response) {\n          setEvent(response.data.data);\n        }\n      })\n      .catch((error) => {\n        setAppMessage({\n          success: false,\n          message: \"Il y a eu un problme, veuillez recharger la page\",\n        });\n      })\n      .finally(() => setEventLoading(false));\n  }, []);\n\n  return (\n    <div className=\"App\" style={{ position: \"relative\" }}>\n      <>\n        <Transition\n          animation=\"jiggle\"\n          duration={500}\n          visible={Object.keys(appMessage).length > 0}\n        >\n          <Message\n            style={{\n              position: \"fixed\",\n              top: 15,\n              zIndex: \"1000\",\n              width: \"100%\",\n            }}\n            hidden={Object.keys(appMessage).length === 0}\n            success={appMessage.success ? true : false}\n            error={!appMessage.success ? true : false}\n          >\n            {appMessage.message}\n          </Message>\n        </Transition>\n        <CategoriesSidebar\n          setActiveMenu={setActiveMenu}\n          activeMenu={activeMenu}\n          setDropdownValue={setDropdownValue}\n          selectedCategory={selectedCategory}\n          setFilteredProducts={setFilteredProducts}\n          products={products}\n          sidebarVisible={sidebarVisible}\n          setSidebarVisible={setSidebarVisible}\n          setSelectedCategory={setSelectedCategory}\n        >\n          <TopAppBar\n            cart={cart}\n            setCart={setCart}\n            setSelectedCategory={setSelectedCategory}\n            loading={loading}\n            user={user}\n            setSidebarVisible={setSidebarVisible}\n            setOpenLoginModal={setOpenLoginModal}\n            isAProductShoppable={isAProductShoppable}\n          />\n          <Divider hidden />\n          <Login\n            setUser={setUser}\n            openLoginModal={openLoginModal}\n            setOpenLoginModal={setOpenLoginModal}\n            setAppMessage={setAppMessage}\n          />\n          <Switch>\n            <Route exact path=\"/\">\n              <AddEventModal\n                setEvent={setEvent}\n                setAppMessage={setAppMessage}\n                setOpenLoginModal={setOpenLoginModal}\n                openAddEventModal={openAddEventModal}\n                setOpenAddEventModal={setOpenAddEventModal}\n              />\n              <Home\n                user={user}\n                event={event}\n                products={products}\n                setEvent={setEvent}\n                setSelectedCategory={setSelectedCategory}\n                setActiveMenu={setActiveMenu}\n                setOpenLoginModal={setOpenLoginModal}\n                setOpenAddEventModal={setOpenAddEventModal}\n                setOpenEditEventModal={setOpenEditEventModal}\n              />\n            </Route>\n            <Route path=\"/categories/:categorie\">\n              <AddProductModal\n                setProducts={setProducts}\n                selectedCategory={selectedCategory}\n                setOpenLoginModal={setOpenLoginModal}\n                setAppMessage={setAppMessage}\n                openAddProductModal={openAddProductModal}\n                setOpenAddProductModal={setOpenAddProductModal}\n              />\n              <EditProductModal\n                product={selectedProduct}\n                setOpenEditProductModal={setOpenEditProductModal}\n                setAppMessage={setAppMessage}\n                setOpenLoginModal={setOpenLoginModal}\n                openEditProductModal={openEditProductModal}\n                setProducts={setProducts}\n              />\n              <UpdateImageModal\n                openUpdateImageModal={openUpdateImageModal}\n                setOpenUpdateImageModal={setOpenUpdateImageModal}\n                setProducts={setProducts}\n                product={selectedProduct}\n                setOpenLoginModal={setOpenLoginModal}\n                setAppMessage={setAppMessage}\n              />\n              <ImageModal\n                openImageModal={openImageModal}\n                setOpenImageModal={setOpenImageModal}\n                product={selectedProduct}\n              />\n              <Categories\n                filteredProducts={filteredProducts}\n                setFilteredProducts={setFilteredProducts}\n                user={user}\n                setCart={setCart}\n                cart={cart}\n                selectedCategory={selectedCategory}\n                activeMenu={activeMenu}\n                setActiveMenu={setActiveMenu}\n                dropdownValue={dropdownValue}\n                setDropdownValue={setDropdownValue}\n                products={products}\n                setProducts={setProducts}\n                setOpenLoginModal={setOpenLoginModal}\n                setOpenAddProductModal={setOpenAddProductModal}\n                setOpenImageModal={setOpenImageModal}\n                setOpenUpdateImageModal={setOpenUpdateImageModal}\n                setOpenEditProductModal={setOpenEditProductModal}\n                setSelectedProduct={setSelectedProduct}\n              />\n            </Route>\n            {showShop && isAProductShoppable && (\n              <Route path=\"/panier\">\n                <Cart\n                  setOpenPaymentModal={setOpenPaymentModal}\n                  cart={cart}\n                  setCart={setCart}\n                  order={order}\n                  setOrder={setOrder}\n                />\n                <Elements stripe={stripePromise}>\n                  <PaymentModal\n                    tableNumber={tableNumber}\n                    setOpenPaymentModal={setOpenPaymentModal}\n                    openPaymentModal={openPaymentModal}\n                    setOrder={setOrder}\n                    setCart={setCart}\n                    cart={cart}\n                    order={order}\n                    socket={socket}\n                  />\n                </Elements>\n              </Route>\n            )}\n            {socket && user && user.role === \"isAdmin\" && (\n              <Route path=\"/commandes\">\n                <Orders socket={socket} />\n              </Route>\n            )}\n            {socket &&\n              user &&\n              (user.role === \"isAdmin\" || user.role === \"waiter\") && (\n                <Route path=\"/serveur\">\n                  <Waiter socket={socket} user={user} />\n                </Route>\n              )}\n          </Switch>\n          <Divider />\n          <Copyright />\n        </CategoriesSidebar>\n      </>\n    </div>\n  );\n};\n\nexport default App;\n","export const getCartAmount = (cart = []) => {\n  if (cart && cart.length > 0) {\n    return cart.reduce((acc, amt) => {\n      if (!amt.weight) {\n        return acc + amt.price;\n      } else {\n        return acc + amt.price * (amt.weight / 1000);\n      }\n    }, 0);\n  } else {\n    return 0;\n  }\n};\n\nexport const addToCart = (setCart, CurrentCart = [], currentProduct = {}) => {\n  const { image, ...newCurrentProduct } = currentProduct;\n  setCart([...CurrentCart, newCurrentProduct]);\n};\n\nexport const removeFromCart = (setCart, CurrentCart = [], productId = \"\") => {\n  let index = CurrentCart.findIndex((p) => p._id === productId);\n  let newCart = [...CurrentCart];\n  newCart.splice(index, 1);\n  setCart([...newCart]);\n};\n\nexport const findProductWithId = (search, id) => {\n  let foundProduct = search.find((p) => p._id === id);\n  return foundProduct;\n};\n\nexport const calculateDate = () => {\n  const date = new Date();\n  return date.toLocaleString(\"fr-FR\", { weekday: \"long\" }) !== \"samedi\"\n    ? new Date(date.setDate(date.getDate() + 1)).toISOString().split(\"T\")[0]\n    : new Date(date.setDate(date.getDate() + 2)).toISOString().split(\"T\")[0];\n};\n","// export const $SERVER = \"http://localhost:5000\";\n\nexport const $SERVER = \"https://inde-piuma.herokuapp.com\";\n\nexport const GOOGLE_API_KEY = \"AIzaSyAZaWwVgn5z9gNPy0cbweEVGUeWwva5GGM\";\n\nexport const tokenName = \"piuma\";\n\nexport const showShop = true;\n\nexport const stripePublic = \"pk_test_eAyr9trbJArTYHJJgEePgULj00lTTB2TXk\";\n\nexport const collectHour = \"11h\";\n","import { faMinus, faPlus } from \"@fortawesome/pro-duotone-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect } from \"react\";\nimport { Button, Container, Divider, Header } from \"semantic-ui-react\";\nimport {\n  addToCart,\n  calculateDate,\n  findProductWithId,\n  getCartAmount,\n  removeFromCart,\n} from \"../../utils/functions\";\nimport { collectHour } from \"../../_const/_const\";\n\nimport \"./cart.css\";\n\nconst Cart = ({ cart, setCart, order, setOrder, setOpenPaymentModal }) => {\n  const reducedCart = cart.reduce(\n    (product, { _id }) => ((product[_id] = (product[_id] || 0) + 1), product),\n    {}\n  );\n  const r = Object.keys(reducedCart).map((key) => ({\n    id: key,\n    count: reducedCart[key],\n  }));\n\n  useEffect(() => {\n    setOrder([...cart]);\n  }, [cart]);\n\n  const setProductWeight = (e) => {\n    let foundProductObject = order.find((p) => p._id === e.target.name);\n\n    foundProductObject[\"weight\"] = Number(e.target.value);\n\n    let index = order.findIndex((i) => i._id === e.target.name);\n\n    let newOrder = [...order];\n\n    newOrder[index] = foundProductObject;\n\n    setOrder([...newOrder]);\n  };\n\n  const setComplementaryInfos = (e) => {\n    let foundProductObject = order.find((p) => p._id === e.target.name);\n    foundProductObject[\"infos\"] = e.target.value;\n\n    let index = order.findIndex((i) => i._id === e.target.name);\n\n    let newOrder = [...order];\n\n    newOrder[index] = foundProductObject;\n\n    setOrder([...newOrder]);\n  };\n\n  const getTheDay = () => {\n    let date = new Date(calculateDate());\n\n    let day = date.toLocaleString(\"fr-FR\", { weekday: \"long\" });\n\n    let dday = date.getDate();\n\n    return (\n      <span className=\"day\">\n        {day} {dday}  {collectHour}\n      </span>\n    );\n  };\n  return (\n    <Container className=\"cart\">\n      <Header className=\"categories-header\" style={{ color: \"white\" }} as=\"h2\">\n        <span style={{ textDecoration: \"underline\" }}>Votre Panier</span>\n      </Header>\n      <div className=\"cart-pickupdate\">\n        <p>Votre commande sera prte pour le {getTheDay()}</p>\n      </div>\n\n      <Divider />\n      <div className=\"cart-description\">\n        <div className=\"cart-header\">\n          <div className=\"cart-total\">\n            <span>\n              Total: {getCartAmount(cart).toFixed(2)} <small></small>\n            </span>\n          </div>\n          <Button\n            type=\"button\"\n            color=\"blue\"\n            size=\"large\"\n            disabled={\n              getCartAmount(cart).toFixed(2) === \"0.00\" ||\n              cart.some(\n                (item) =>\n                  item.region.toLowerCase() === \"au kilo\" && !item.weight\n              )\n            }\n            onClick={() => setOpenPaymentModal(true)}\n          >\n            Commander\n          </Button>\n        </div>\n        {r.map((p) => {\n          const product = findProductWithId(cart, p.id);\n          const { name, _id, price, description, region, weight, infos } =\n            product;\n          return (\n            <div className=\"cart-product\">\n              <div className=\"cart-product-title\">{name}</div>\n              <div className=\"cart-product-amount\">\n                <span>\n                  <Button\n                    icon\n                    circular\n                    size=\"mini\"\n                    onClick={() => removeFromCart(setCart, cart, _id)}\n                  >\n                    <FontAwesomeIcon size=\"2x\" color=\"red\" icon={faMinus} />\n                  </Button>\n                  <span className=\"counter\">Quantit : {p.count}</span>\n                  <Button\n                    icon\n                    circular\n                    size=\"mini\"\n                    onClick={() => addToCart(setCart, cart, product)}\n                  >\n                    <FontAwesomeIcon size=\"2x\" color=\"green\" icon={faPlus} />\n                  </Button>\n                </span>\n              </div>\n              {description && (\n                <div className=\"cart-product-description\">\n                  <p>{description}</p>\n                  <textarea\n                    style={{ width: \"100%\" }}\n                    cols=\"5\"\n                    rows=\"3\"\n                    name={p.id}\n                    value={infos}\n                    onChange={(e) => setComplementaryInfos(e)}\n                    placeholder=\"Infos complmentaires Exemple: Cannistrellis sucrs noisette, ribella misticu...\"\n                  />\n                </div>\n              )}\n              <div className=\"cart-product-unitprice\">\n                <p>\n                  Prix unitaire: {price} <small></small> / {region}\n                </p>\n              </div>\n              <div className=\"cart-product-subtotal\">\n                {region.toLowerCase() === \"au kilo\" ? (\n                  <>\n                    <label>Poids dsir </label>\n                    <select\n                      required\n                      name={p.id}\n                      value={\"\" || weight}\n                      onChange={(e) => setProductWeight(e)}\n                    >\n                      <option value=\"\">Selectionnez un poids</option>\n                      <option value={300}>300</option>\n                      <option value={350}>350</option>\n                      <option value={400}>400</option>\n                      <option value={450}>450</option>\n                      <option value={500}>500</option>\n                      <option value={550}>550</option>\n                      <option value={600}>600</option>\n                      <option value={650}>650</option>\n                      <option value={700}>700</option>\n                      <option value={750}>750</option>\n                      <option value={800}>800</option>\n                      <option value={850}>850</option>\n                      <option value={900}>900</option>\n                      <option value={950}>950</option>\n                      <option value={1000}>1000</option>\n                    </select>\n                    grammes\n                    {weight > 0 && (\n                      <p>\n                        Sous-Total :\n                        {(price * (weight / 1000) * p.count).toFixed(2)}\n                        <small></small>\n                      </p>\n                    )}\n                  </>\n                ) : (\n                  <p>\n                    Sous-Total :{(price * p.count).toFixed(2)}\n                    <small></small>\n                  </p>\n                )}\n              </div>\n            </div>\n          );\n        })}\n        <div></div>\n        <div className=\"cart-header\">\n          <div className=\"cart-total\">\n            <span>\n              Total: {getCartAmount(cart).toFixed(2)} <small></small>\n            </span>\n          </div>\n          <Button\n            type=\"button\"\n            color=\"blue\"\n            size=\"large\"\n            disabled={\n              getCartAmount(cart).toFixed(2) === \"0.00\" ||\n              cart.some(\n                (item) =>\n                  item.region.toLowerCase() === \"au kilo\" && !item.weight\n              )\n            }\n            onClick={() => setOpenPaymentModal(true)}\n          >\n            Commander\n          </Button>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default Cart;\n","import React from \"react\";\nimport { Button } from \"semantic-ui-react\";\n\nconst AdminCrudButtons = ({\n  loading,\n  visible,\n  _id,\n  choice,\n  showInShop,\n  product,\n  handleDeleteProduct,\n  handleChangeChoice,\n  handleChangeVisibility,\n  handleChangeShoppable,\n  setSelectedProduct,\n  setOpenEditProductModal,\n  setOpenUpdateImageModal,\n}) => {\n  return (\n    <div className=\"adminbuttons\">\n      <Button\n        disabled={loading}\n        loading={loading}\n        circular\n        icon=\"remove\"\n        size=\"large\"\n        color=\"red\"\n        onClick={() => handleDeleteProduct(_id)}\n      />\n      <Button\n        disabled={loading}\n        loading={loading}\n        circular\n        icon=\"edit\"\n        size=\"large\"\n        color=\"purple\"\n        onClick={() => {\n          setSelectedProduct(product);\n          setOpenEditProductModal(true);\n        }}\n      />\n      <Button\n        disabled={loading}\n        loading={loading}\n        circular\n        icon=\"shopping basket\"\n        size=\"large\"\n        color={showInShop ? \"orange\" : \"grey\"}\n        onClick={() => handleChangeShoppable(product)}\n      />\n      <Button\n        disabled={loading}\n        loading={loading}\n        circular\n        icon={visible ? \"hide\" : \"unhide\"}\n        size=\"large\"\n        onClick={() => handleChangeVisibility(product)}\n      />\n      <Button\n        disabled={loading}\n        loading={loading}\n        circular\n        icon=\"heart\"\n        size=\"large\"\n        color={choice ? \"red\" : \"grey\"}\n        onClick={() => handleChangeChoice(product)}\n      />\n      <Button\n        disabled={loading}\n        loading={loading}\n        circular\n        icon=\"image\"\n        size=\"large\"\n        color=\"yellow\"\n        onClick={() => {\n          setSelectedProduct(product);\n          setOpenUpdateImageModal(true);\n        }}\n      />\n    </div>\n  );\n};\n\nexport default AdminCrudButtons;\n","import {\n  faCartPlus,\n  faHeartCircle,\n  faSearch,\n} from \"@fortawesome/pro-duotone-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Translator, Translate } from \"react-auto-translate\";\nimport React from \"react\";\nimport { Button, Header } from \"semantic-ui-react\";\nimport \"./productitem.css\";\nimport { GOOGLE_API_KEY, showShop } from \"../../../_const/_const\";\nimport { useHistory } from \"react-router-dom\";\nimport { addToCart } from \"../../../utils/functions\";\n\nconst ProductItem = ({\n  product,\n  _id,\n  name,\n  type,\n  region,\n  description,\n  price,\n  category,\n  choice,\n  visible,\n  image,\n  showInShop,\n  user,\n  setOpenImageModal,\n  setSelectedProduct,\n  setCart,\n  cart,\n}) => {\n  const history = useHistory();\n\n  const userLang = navigator.language || navigator.userLanguage;\n\n  const cacheProvider = {\n    get: (language, key) =>\n      ((JSON.parse(localStorage.getItem(\"translations\")) || {})[key] || {})[\n        language\n      ],\n    set: (language, key, value) => {\n      const existing = JSON.parse(localStorage.getItem(\"translations\")) || {\n        [key]: {},\n      };\n      existing[key] = { ...existing[key], [language]: value };\n      localStorage.setItem(\"translations\", JSON.stringify(existing));\n    },\n  };\n  return (\n    <div\n      id={_id}\n      className=\"productitem\"\n      style={{\n        display: visible ? \"\" : user.role === \"isAdmin\" ? \"\" : \"none\",\n        border:\n          decodeURI(history.location.hash.replace(\"#\", \"\")) === _id\n            ? \"8px solid darkred\"\n            : \"\",\n      }}\n    >\n      <div className=\"productitem-header\">\n        <Header\n          as=\"h3\"\n          style={\n            type === \"cave\" && category === \"rouges\"\n              ? { color: \"darkred\" }\n              : type === \"cave\" && category === \"roses\"\n              ? { color: \"#fec5d9\" }\n              : type === \"cave\" && category === \"blancs\"\n              ? { color: \"#f1f285\" }\n              : { color: \"\" }\n          }\n        >\n          {!visible ? \"Cach : \" : \"\"}\n          {name}\n          {image && (\n            <FontAwesomeIcon\n              style={{ color: \"white\", marginLeft: 8 }}\n              icon={faSearch}\n              onClick={() => {\n                setSelectedProduct(product);\n                setOpenImageModal(true);\n              }}\n            />\n          )}\n          {choice && (\n            <FontAwesomeIcon\n              className=\"bosschoice alvp__icon\"\n              icon={faHeartCircle}\n              style={{\n                \"--fa-primary-color\": \"darkred\",\n                \"--fa-secondary-color\": \"transparent\",\n              }}\n              size=\"2x\"\n            />\n          )}\n        </Header>\n        {showShop && showInShop && (\n          <Button\n            className=\"addtocart\"\n            icon\n            circular\n            color=\"orange\"\n            onClick={() => addToCart(setCart, cart, product)}\n          >\n            <FontAwesomeIcon size=\"2x\" icon={faCartPlus} />\n            <span className=\"itemcounter\">\n              {cart.filter((p) => p._id === _id).length}\n            </span>\n          </Button>\n        )}\n                \n        {/* {showShop && type === \"spuntinu\"  && user !== \"isAdmin\" && (\n          <Button\n            className=\"removefromcart\"\n            icon\n            circular\n            color=\"red\"\n            onClick={() => removeFromCart(setCart, cart, _id)}\n          >\n            <FontAwesomeIcon size=\"2x\" icon={faCartArrowDown} />\n          </Button>\n        )} */}\n        {type === \"cave\" && name.toLowerCase() !== \"verre de vin\" ? (\n          <span className=\"price\">\n            {price.toFixed(2) - 7}\n            <small></small>\n          </span>\n        ) : (\n          <span className=\"price\">\n            {price.toFixed(2)}\n            <small></small>\n          </span>\n        )}\n      </div>\n      {region && (\n        <div className=\"region-wrapper\">\n          <div className=\"region\">{region}</div>\n          {type === \"cave\" && name.toLowerCase() !== \"verre de vin\" && (\n            <span className=\"region\">\n              {`Sur place : ${price.toFixed(2)}`}\n              <small></small>\n            </span>\n          )}\n        </div>\n      )}\n      {description && (\n        <Translator\n          cacheProvider={cacheProvider}\n          from=\"fr\"\n          to={userLang.substr(0, 2)}\n          googleApiKey={GOOGLE_API_KEY}\n        >\n          <p className=\"description\">\n            <Translate>{description}</Translate>\n          </p>\n        </Translator>\n      )}\n    </div>\n  );\n};\n\nexport default ProductItem;\n","import React from \"react\";\nimport { Dropdown, Menu } from \"semantic-ui-react\";\n\nconst ProductsFilteringMenu = ({\n  dropdownValue,\n  subCategories,\n  activeMenu,\n  setActiveMenu,\n  setDropdownValue,\n  products,\n}) => {\n  return (\n    <Menu\n      compact\n      borderless\n      icon=\"labeled\"\n      className=\"categories-menu\"\n      style={{ position: \"relative\" }}\n    >\n      {subCategories.map((subCategory) => (\n        <>\n          {subCategory.subCat ? (\n            <div style={{ position: \"relative\" }}>\n              <sup\n                style={{ position: \"absolute\", top: 9, right: 3, zIndex: 10 }}\n              >\n                <span className=\"badge\">\n                  {products &&\n                    products.filter(\n                      (p) => p.category === subCategory.slug && p.visible\n                    ).length}\n                </span>\n              </sup>\n              <Dropdown\n                key={subCategory.slug}\n                className={\n                  activeMenu === subCategory.slug\n                    ? \"categories-dropdown active\"\n                    : \"categories-dropdown\"\n                }\n                item\n                icon={subCategory.icon}\n                text={subCategory.name}\n                onClick={() => setActiveMenu(subCategory.slug)}\n              >\n                <Dropdown.Menu\n                  direction={activeMenu === \"blancs\" && subCategory.slug === \"blancs\" && \"left\" }\n                >\n                  {subCategory.subCat.map((sc) => (\n                    <Dropdown.Item\n                      key={sc.slug}\n                      active={dropdownValue === sc.slug}\n                      onClick={(e) => setDropdownValue(sc.slug)}\n                    >\n                      <span className=\"dropdown-menuitem\">\n                        {sc.name}\n                        <span className=\"badge\">\n                          {products &&\n                            products.filter(\n                              (p) => p.subCategory === sc.slug && p.visible\n                            ).length}\n                        </span>\n                      </span>\n                    </Dropdown.Item>\n                  ))}\n                </Dropdown.Menu>\n              </Dropdown>\n            </div>\n          ) : (\n            <>\n              <Menu.Item\n                style={{ position: \"relative\" }}\n                key={subCategory.slug}\n                className=\"menu-items\"\n                active={activeMenu === subCategory.slug}\n                onClick={() => setActiveMenu(subCategory.slug)}\n              >\n                <Menu.Header>{subCategory.icon}</Menu.Header>\n                {subCategory.name}\n                <sup style={{ position: \"absolute\", top: 9, right: 3 }}>\n                  <span className=\"badge top-menu\">\n                    {products &&\n                      products.filter(\n                        (p) => p.category === subCategory.slug && p.visible\n                      ).length}\n                  </span>\n                </sup>\n              </Menu.Item>\n            </>\n          )}\n        </>\n      ))}\n    </Menu>\n  );\n};\n\nexport default ProductsFilteringMenu;\n","import {\n  faAppleCrate,\n  faBeer,\n  faCheese,\n  faCookieBite,\n  faFrenchFries,\n  faGlassChampagne,\n  faGlassCitrus,\n  faHatChef,\n  faJug,\n  faPig,\n  faSack,\n  faSausage,\n  faTurkey,\n  faWineBottle,\n} from \"@fortawesome/pro-duotone-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst categories = [\n  {\n    name: \"Aujourd'hui\",\n    slug: \"aujourd'hui\",\n    icon: (\n      <FontAwesomeIcon\n        size=\"4x\"\n        icon={faTurkey}\n        style={{\n          \"--fa-primary-color\": \"#AF2127\",\n          \"--fa-secondary-color\": \"grey\",\n        }}\n      />\n    ),\n  },\n  {\n    name: \"L'picerie\",\n    slug: \"epicerie\",\n    icon: (\n      <FontAwesomeIcon\n        size=\"4x\"\n        icon={faAppleCrate}\n        style={{\n          \"--fa-primary-color\": \"#AF2127\",\n          \"--fa-secondary-color\": \"grey\",\n        }}\n      />\n    ),\n    subCategories: [\n      {\n        name: \"Les Sals\",\n        slug: \"sals-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faFrenchFries}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Petits Pots\",\n        slug: \"pots-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faHatChef}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Huiles et Vinaigres\",\n        slug: \"huile-et-vinaigres-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faJug}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Assaisonements\",\n        slug: \"assaisonements-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faSack}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Terrines\",\n        slug: \"terrines-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faPig}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Charcuteries\",\n        slug: \"charcuteries-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faSausage}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Fromages\",\n        slug: \"fromages-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faCheese}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Douceurs\",\n        slug: \"douceurs-p\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faCookieBite}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n    ],\n  },\n  {\n    name: \"Assiettes  composer\",\n    slug: \"spuntinu\",\n    details: \" partir de 18h\",\n    icon: (\n      <FontAwesomeIcon\n        size=\"4x\"\n        icon={faPig}\n        style={{\n          \"--fa-primary-color\": \"#AF2127\",\n          \"--fa-secondary-color\": \"grey\",\n        }}\n      />\n    ),\n    subCategories: [\n      {\n        name: \"Les Sals\",\n        slug: \"sals\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faFrenchFries}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Petits Pots\",\n        slug: \"pots\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faHatChef}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Terrines\",\n        slug: \"terrines\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faPig}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Charcuteries\",\n        slug: \"charcuteries\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faSausage}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Fromages\",\n        slug: \"fromages\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faCheese}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Douceurs\",\n        slug: \"douceurs\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faCookieBite}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n    ],\n  },\n  {\n    name: \"La Cave\",\n    slug: \"cave\",\n    icon: (\n      <FontAwesomeIcon\n        icon={faWineBottle}\n        size=\"4x\"\n        style={{\n          \"--fa-primary-color\": \"#AF2127\",\n          \"--fa-secondary-color\": \"grey\",\n        }}\n      />\n    ),\n    subCategories: [\n      {\n        name: \"Vins Rouges\",\n        slug: \"rouges\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faWineBottle}\n            style={{ \"--fa-primary-color\": \"darkred\" }}\n          />\n        ),\n      },\n      {\n        name: \"Vins Ross\",\n        slug: \"roses\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faWineBottle}\n            style={{ \"--fa-primary-color\": \"#fec5d9\" }}\n          />\n        ),\n      },\n      {\n        name: \"Vins Blancs\",\n        slug: \"blancs\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faWineBottle}\n            style={{ \"--fa-primary-color\": \"#f1f285\" }}\n          />\n        ),\n      },\n      {\n        name: \"Les Champagnes\",\n        slug: \"champagnes\",\n        icon: (\n          <FontAwesomeIcon\n            size=\"3x\"\n            icon={faGlassChampagne}\n            style={{ \"--fa-primary-color\": \"white\" }}\n          />\n        ),\n      },\n    ],\n  },\n  {\n    name: \"Les Bires\",\n    slug: \"bieres\",\n    icon: (\n      <FontAwesomeIcon\n        size=\"4x\"\n        icon={faBeer}\n        style={{\n          \"--fa-primary-color\": \"#AF2127\",\n          \"--fa-secondary-color\": \"grey\",\n        }}\n      />\n    ),\n  },\n  {\n    name: \"Les Softs\",\n    slug: \"softs\",\n    icon: (\n      <FontAwesomeIcon\n        size=\"4x\"\n        icon={faGlassCitrus}\n        style={{\n          \"--fa-primary-color\": \"#AF2127\",\n          \"--fa-secondary-color\": \"grey\",\n        }}\n      />\n    ),\n  },\n];\n\nexport default categories;\n","/* eslint-disable no-unused-expressions */\n/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport { faPlus } from \"@fortawesome/pro-duotone-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport {\n  Button,\n  Container,\n  Divider,\n  Header,\n  Transition,\n} from \"semantic-ui-react\";\nimport AdminCrudButtons from \"../../components/Small/AdminCrudButtons\";\nimport ProductItem from \"../../components/Small/ProductItem\";\nimport ProductsFilteringMenu from \"../../components/Small/ProductsFilteringMenu\";\nimport categories from \"../../datas/categories\";\nimport { $SERVER, tokenName } from \"../../_const/_const\";\nimport \"./categories.css\";\nconst Categories = ({\n  setFilteredProducts,\n  selectedCategory,\n  dropdownValue,\n  activeMenu,\n  setActiveMenu,\n  setDropdownValue,\n  products,\n  filteredProducts,\n  user,\n  setOpenAddProductModal,\n  setProducts,\n  setOpenLoginModal,\n  setSelectedProduct,\n  setOpenEditProductModal,\n  setOpenImageModal,\n  setOpenUpdateImageModal,\n  setCart,\n  cart,\n}) => {\n  const category = useParams();\n\n  const { name, subCategories, details } = selectedCategory;\n  const [loading, setLoading] = useState(false);\n\n  const result =\n    selectedCategory.slug === \"vins\" &&\n    (selectedCategory?.subCategories[0]?.subCat.find(\n      ({ name, slug }) => slug === dropdownValue\n    ) ||\n      selectedCategory?.subCategories[2]?.subCat.find(\n        ({ name, slug }) => slug === dropdownValue\n      ));\n  const prevDropdownValueRef = useRef();\n\n  useEffect(() => {\n    prevDropdownValueRef.current = dropdownValue;\n  });\n\n  const prevDropdownValue = prevDropdownValueRef.current;\n\n  useEffect(() => {\n    setFilteredProducts(\n      products.filter((p) => p.type === selectedCategory.slug)\n    );\n  }, [products]);\n\n  useEffect(() => {\n    setDropdownValue(\"\");\n    if (activeMenu) {\n      setFilteredProducts(products?.filter((p) => p.category === activeMenu));\n    }\n  }, [activeMenu]);\n\n  useEffect(() => {\n    if (dropdownValue) {\n      setDropdownValue(dropdownValue);\n      setFilteredProducts(\n        products?.filter((p) => p.subCategory === dropdownValue)\n      );\n    }\n  }, [dropdownValue]);\n\n  const token = localStorage.getItem(`token-${tokenName}`);\n\n  const handleDeleteProduct = (productId) => {\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"delete\",\n        url: `${$SERVER}/api/products/deleteProduct`,\n        data: {\n          productId,\n        },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => setProducts(response.data.data))\n        .catch((error) => console.log(error))\n        .finally(() => setLoading(false));\n    } else {\n      setOpenLoginModal(true);\n    }\n  };\n\n  const handleChangeVisibility = (product) => {\n    let { image, ...newProduct } = product;\n    newProduct.visible = !product.visible;\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/products/updateProduct`,\n        data: {\n          update: newProduct,\n          productId: product._id,\n        },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => setProducts(response.data.data))\n        .catch((error) => console.log(error))\n        .finally(() => setLoading(false));\n    } else {\n      setOpenLoginModal(true);\n    }\n  };\n\n  const handleChangeChoice = (product) => {\n    let { image, ...newProduct } = product;\n    newProduct.choice = !product.choice;\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/products/updateProduct`,\n        data: {\n          update: newProduct,\n          productId: product._id,\n        },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => setProducts(response.data.data))\n        .catch((error) => console.log(error))\n        .finally(() => setLoading(false));\n    } else {\n      setOpenLoginModal(true);\n    }\n  };\n\n  const handleChangeShoppable = (product) => {\n    let { image, ...newProduct } = product;\n    newProduct.showInShop = !product.showInShop\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/products/updateProduct`,\n        data: {\n          update: newProduct,\n          productId: product._id,\n        },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => setProducts(response.data.data))\n        .catch((error) => console.log(error))\n        .finally(() => setLoading(false));\n    } else {\n      setOpenLoginModal(true);\n    }\n  };\n\n  const findNameByMenu = () => {\n    const foundCategory = categories.filter((category) =>\n      category?.subCategories?.find((subc) => subc.slug === activeMenu)\n    );\n\n    return foundCategory[0].subCategories.find(\n      (subc) => subc.slug === activeMenu\n    ).name;\n  };\n\n  return (\n    <Container className=\"categories\">\n      {user && user.role=== \"isAdmin\" && (\n        <div>\n          <Button\n            color=\"green\"\n            circular\n            size=\"medium\"\n            onClick={() => setOpenAddProductModal(true)}\n          >\n            <FontAwesomeIcon icon={faPlus} size=\"2x\" />\n          </Button>\n        </div>\n      )}\n      <Header\n        className=\"categories-header\"\n        style={{ color: \"white\" }}\n        as=\"h2\"\n      >\n        <span style={{textDecoration: \"underline\"}}>{name}</span>\n        {details && <p style={{ color: \"black\", fontSize:\"0.5em\", textDecoration: \"\" }}>{details}</p>}\n      </Header>\n      {activeMenu && (\n        <Header\n          className=\"categories-header\"\n          as=\"h3\"\n          style={\n            activeMenu === \"rouges\"\n              ? { color: \"darkred\" }\n              : activeMenu === \"roses\"\n              ? { color: \"#fec5d9\" }\n              : activeMenu === \"blancs\"\n              ? { color: \"#f1f285\" }\n              : { color: \"white\" }\n          }\n        >\n          {findNameByMenu()}\n        </Header>\n      )}\n      <Divider hidden />\n      {subCategories && (\n        <ProductsFilteringMenu\n          products={products}\n          dropdownValue={dropdownValue}\n          subCategories={subCategories}\n          activeMenu={activeMenu}\n          setActiveMenu={setActiveMenu}\n          setDropdownValue={setDropdownValue}\n        />\n      )}\n      <Divider hidden />\n      <div className=\"products\">\n        {filteredProducts\n          ?.sort((a, b) => a.price - b.price)\n          .sort((a, b) =>\n            a.name.toLowerCase() > b.name.toLowerCase()\n              ? 1\n              : b.name.toLowerCase() > a.name.toLowerCase()\n              ? -1\n              : 0\n          )\n          .sort((a, b) => b.choice - a.choice)\n          .map((p) => (\n            <>\n              {user && user.role ===\"isAdmin\" && (\n                <AdminCrudButtons\n                  loading={loading}\n                  {...p}\n                  product={p}\n                  handleDeleteProduct={handleDeleteProduct}\n                  handleChangeVisibility={handleChangeVisibility}\n                  handleChangeChoice={handleChangeChoice}\n                  handleChangeShoppable={handleChangeShoppable}\n                  setSelectedProduct={setSelectedProduct}\n                  setOpenEditProductModal={setOpenEditProductModal}\n                  setOpenUpdateImageModal={setOpenUpdateImageModal}\n                  \n                />\n              )}\n              <ProductItem\n                key={p._id}\n                product={p}\n                {...p}\n                user={user}\n                setOpenImageModal={setOpenImageModal}\n                setSelectedProduct={setSelectedProduct}\n                setCart={setCart}\n                cart={cart}\n              />\n            </>\n          ))}\n      </div>\n      <Divider hidden />\n      {subCategories && filteredProducts.length > 1 && (\n        <ProductsFilteringMenu\n          products={products}\n          dropdownValue={dropdownValue}\n          subCategories={subCategories}\n          activeMenu={activeMenu}\n          setActiveMenu={setActiveMenu}\n          setDropdownValue={setDropdownValue}\n        />\n      )}\n    </Container>\n  );\n};\n\nexport default Categories;\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport {\n  faHeartCircle,\n  faPlus,\n  faThumbsUp,\n  faTrashAlt,\n} from \"@fortawesome/pro-duotone-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Container, Header } from \"semantic-ui-react\";\nimport { $SERVER, tokenName } from \"../../_const/_const\";\nimport \"./home.css\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport categories from \"../../datas/categories\";\nimport { Link } from \"react-router-dom\";\nimport { HashLink } from \"react-router-hash-link\";\n\nconst Home = ({\n  user,\n  event,\n  setEvent,\n  setOpenAddEventModal,\n  setSelectedCategory,\n  setActiveMenu,\n  products,\n  setOpenLoginModal,\n}) => {\n  const [loading, setLoading] = useState(false);\n  const token = localStorage.getItem(`token-${tokenName}`);\n  const [like, setLike] = useState(0);\n\n  const vote = localStorage.getItem(`${tokenName}-event`);\n  useEffect(() => {\n    setLike(event.like);\n    if (vote && vote !== event._id && event._id) {\n      localStorage.removeItem(`${tokenName}-event`);\n    }\n  }, [event]);\n\n  const shuffle = (array) => {\n    let currentIndex = array.length,\n      randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--;\n\n      // And swap it with the current element.\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex],\n        array[currentIndex],\n      ];\n    }\n\n    return array.slice(0, 6);\n  };\n\n  const findProductsImages = () => {\n    const productsWithImages = products?.filter((product) => product.image);\n\n    return shuffle(productsWithImages);\n  };\n\n  const findCategory = (slug) => {\n    const categoryToFind = categories.find(\n      (category) => category.slug === slug\n    );\n\n    return categoryToFind;\n  };\n\n  const handleAddLike = () => {\n    if (!vote) {\n      localStorage.setItem(`${tokenName}-event`, event._id);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/events/updateLikes`,\n        data: { _id: event._id },\n      });\n      setLike(like + 1);\n    }\n  };\n  const arrayBufferToBase64 = (buffer) => {\n    let binary = \"\";\n    const bytes = [].slice.call(new Uint8Array(buffer));\n    bytes.forEach((b) => (binary += String.fromCharCode(b)));\n    return window.btoa(binary);\n  };\n\n  const base64Flag = `data:${event.image?.contentType};base64,`;\n  const imageStr = arrayBufferToBase64(event.image?.data?.data);\n\n  const handleDeleteEvent = (eventId) => {\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"delete\",\n        url: `${$SERVER}/api/events/deleteEvent`,\n        data: {\n          eventId,\n        },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => setEvent({}))\n        .catch((error) => console.log(error))\n        .finally(() => setLoading(false));\n    } else {\n      setOpenLoginModal(true);\n    }\n  };\n  return (\n    <Container className=\"home\">\n      {user && user.role === \"isAdmin\" && (\n        <div className=\"home-addbutton\">\n          {event && Object.keys(event).length === 0 && (\n            <Button\n              loading={loading}\n              disabled={loading}\n              color=\"green\"\n              circular\n              size=\"medium\"\n              onClick={() => setOpenAddEventModal(true)}\n            >\n              <FontAwesomeIcon icon={faPlus} size=\"2x\" />\n            </Button>\n          )}\n          {event && Object.keys(event).length > 0 && (\n            <>\n              {/* <Button\n                loading={loading}\n                disabled={loading}\n                color=\"purple\"\n                circular\n                size=\"medium\"\n                onClick={() => setOpenEditEventModal(true)}\n              >\n                <FontAwesomeIcon icon={faEdit} size=\"2x\" />\n              </Button> */}\n              <Button\n                loading={loading}\n                disabled={loading}\n                color=\"red\"\n                circular\n                size=\"medium\"\n                onClick={() => handleDeleteEvent(event._id)}\n              >\n                <FontAwesomeIcon icon={faTrashAlt} size=\"2x\" />\n              </Button>\n            </>\n          )}\n        </div>\n      )}\n      {event && Object.keys(event).length > 0 && (\n        <>\n          <Header className=\"home-header\" as=\"h1\">\n            {event.name}\n          </Header>\n          <Container text className=\"home-presentation\">\n            {event.image && (\n              <div>\n                <img\n                  style={{ width: \"100%\" }}\n                  src={base64Flag + imageStr}\n                  alt={event.name}\n                />\n              </div>\n            )}\n            {event.date && (\n              <p>\n                {`Le :\n                ${new Date(event.date).toLocaleDateString(\"fr-FR\", {\n                  weekday: \"long\",\n                  day: \"numeric\",\n                  month: \"long\",\n                })}`}\n              </p>\n            )}\n            <p>{event.description}</p>\n            <div className=\"home-like-button\">\n              <Button\n                disabled={vote ? true : false}\n                icon\n                circular\n                color=\"facebook\"\n                onClick={() => handleAddLike()}\n              >\n                <FontAwesomeIcon\n                  size=\"1x\"\n                  icon={faThumbsUp}\n                  style={{\n                    \"--fa-secondary-color\": \"white\",\n                    \"--fa-secondary-opacity\": 1,\n                  }}\n                />\n              </Button>\n              <span\n                style={{\n                  background: \"transparent\",\n                  color: \"white\",\n                  borderRadius: 50,\n                  display: \"inline-block\",\n                  padding: \"5px 10px\",\n                }}\n              >\n                {like}\n              </span>\n            </div>\n          </Container>\n        </>\n      )}\n      {event && Object.keys(event).length === 0 && (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          {products &&\n            (findProductsImages()?.length > 0 ? (\n              <Carousel\n                showArrows={true}\n                showThumbs={false}\n                infiniteLoop={true}\n              >\n                {findProductsImages().map((product) => (\n                  <div>\n                    {product.choice && (\n                      <FontAwesomeIcon\n                        className=\"choisen alvp__icon\"\n                        icon={faHeartCircle}\n                        style={{\n                          \"--fa-primary-color\": \"darkred\",\n                          \"--fa-secondary-color\": \"transparent\",\n                        }}\n                        size=\"2x\"\n                      />\n                    )}\n                    <img\n                      src={\n                        `data:${product?.image?.contentType};base64,` +\n                        arrayBufferToBase64(product.image?.data?.data)\n                      }\n                      alt={product.name}\n                    />\n                    <HashLink\n                      smooth\n                      to={`/categories/${findCategory(product.type).slug}#${product._id}`}\n                      onClick={() => {\n                        setSelectedCategory(findCategory(product.type));\n                        setActiveMenu(product.category);\n                      }}\n                    >\n                      <p className=\"legend\">{product.name}</p>\n                      <p className=\"legend price\">\n                        {product.price} <small></small>\n                      </p>\n                    </HashLink>\n                  </div>\n                ))}\n              </Carousel>\n            ) : (\n              <img\n                height=\"280px\"\n                src=\"./assets/images/logo.png\"\n                alt=\"logo RDR\"\n              />\n            ))}\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default Home;\n","import axios from \"axios\";\nimport React, { useRef, useState } from \"react\";\nimport { Button, Form, Header, Icon, Modal } from \"semantic-ui-react\";\nimport Resizer from \"react-image-file-resizer\";\nimport { $SERVER, tokenName } from \"../../../../_const/_const\";\n\nconst AddEventModal = ({\n  setEvent,\n  setAppMessage,\n  setOpenLoginModal,\n  openAddEventModal,\n  setOpenAddEventModal,\n}) => {\n  const [newEvent, setNewEvent] = useState({\n    name: \"\",\n    description: \"\",\n    date: \"\",\n    like: 0,\n    image: \"\",\n  });\n\n  let date = new Date();\n\n  const [loading, setLoading] = useState(false);\n\n  const changeEvent = (e) => {\n    let updatedValue = {};\n    updatedValue[e.target.name] = e.target.value;\n    setNewEvent({ ...newEvent, ...updatedValue });\n  };\n\n  const setImage = async (e) => {\n    Resizer.imageFileResizer(\n      e.target.files[0],\n      500,\n      500,\n      \"JPEG\",\n      100,\n      0,\n      (uri) => {\n        setNewEvent({ ...newEvent, image: uri });\n      },\n      \"file\"\n    );\n  };\n  const inputEventFile = useRef(null);\n\n  const token = localStorage.getItem(`token-${tokenName}`);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let formData = new FormData();\n    formData.append(\"name\", newEvent.name);\n    formData.append(\"description\", newEvent.description || \"\");\n    formData.append(\"date\", newEvent.date || \"\");\n    formData.append(\"like\", 0);\n    formData.append(\"image\", newEvent.image || \"\");\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/events/createEvent`,\n        data: formData,\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (response && response.data.status === 200) {\n            setEvent(response.data.data);\n            setNewEvent({\n              name: \"\",\n              description: \"\",\n              date: \"\",\n              like: 0,\n              image: \"\",\n            });\n          }\n          setAppMessage({\n            success: response.data.status === 200 ? true : false,\n            message: response.data.message,\n          });\n        })\n        .then(() => {\n          setOpenAddEventModal(false);\n        })\n        .catch((error) =>\n          setAppMessage({\n            success: false,\n            message: \"Il y a eu un probleme, veuillez reessayer\",\n          })\n        )\n        .finally(() => {\n          setLoading(false);\n        });\n    } else {\n      setOpenLoginModal(true);\n    }\n  };\n  return (\n    <Modal\n      closeIcon\n      onClose={() => setOpenAddEventModal(false)}\n      onOpen={() => setOpenAddEventModal(true)}\n      open={openAddEventModal}\n      size=\"small\"\n    >\n      <Header icon>\n        <Icon name=\"add\" />\n        Ajouter un Evenement\n      </Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit} id=\"addEvent-form\">\n          <Form.Field required error={!newEvent.name}>\n            <label>Nom de l'evenement</label>\n            <input\n              value={newEvent.name}\n              name=\"name\"\n              type=\"text\"\n              onChange={(e) => changeEvent(e)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Description</label>\n            <textarea\n              value={newEvent.description}\n              name=\"description\"\n              rows=\"5\"\n              cols=\"33\"\n              onChange={(e) => changeEvent(e)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Date de l'evenement</label>\n            <input\n              value={newEvent.date}\n              name=\"date\"\n              type=\"date\"\n              min={date.toISOString().split(\"T\")[0]}\n              onChange={(e) => changeEvent(e)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <input\n              ref={inputEventFile}\n              accept=\"image/*\"\n              id=\"addEventImage\"\n              files={newEvent.image}\n              type=\"file\"\n              hidden\n              onChange={(e) => setImage(e)}\n            />\n            <Button\n              disabled={loading}\n              loading={loading}\n              type=\"button\"\n              onClick={() => inputEventFile.current.click()}\n              color=\"orange\"\n              inverted\n            >\n              Ajouter une image\n            </Button>\n          </Form.Field>\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          disabled={loading || !newEvent.name}\n          loading={loading}\n          color=\"green\"\n          type=\"submit\"\n          form=\"addEvent-form\"\n          inverted\n        >\n          <Icon name=\"add\" /> Ajouter\n        </Button>\n        <Button\n          disabled={loading}\n          loading={loading}\n          color=\"red\"\n          type=\"submit\"\n          form=\"addEvent-form\"\n          inverted\n          onClick={() => setOpenAddEventModal(false)}\n        >\n          <Icon name=\"remove\" /> Annuler\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default AddEventModal;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport axios from \"axios\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Button, Form, Header, Icon, Modal, Radio } from \"semantic-ui-react\";\nimport categories from \"../../../../datas/categories\";\nimport Resizer from \"react-image-file-resizer\";\nimport { $SERVER, tokenName } from \"../../../../_const/_const\";\n\nconst AddProductModal = ({\n  selectedCategory,\n  setAppMessage,\n  openAddProductModal,\n  setOpenAddProductModal,\n  setOpenLoginModal,\n  setProducts,\n}) => {\n  const [product, setProduct] = useState({\n    name: \"\",\n    region: \"\",\n    description: \"\",\n    price: \"\",\n    type: \"\",\n    category: \"\",\n    subCategory: \"\",\n    choice: false,\n    visible: true,\n    image: \"\",\n    showInShop: false\n  });\n\n  const [loading, setLoading] = useState(false);\n  const inputFile = useRef(null);\n\n  useEffect(() => {\n    setProduct({ ...product, type: selectedCategory.slug });\n  }, [selectedCategory]);\n\n  const changeProduct = (e) => {\n    let updatedValue = {};\n    updatedValue[e.target.name] = e.target.value;\n    setProduct({ ...product, ...updatedValue });\n  };\n\n  const setImage = async (e) => {\n    Resizer.imageFileResizer(\n      e.target.files[0],\n      400,\n      400,\n      \"JPEG\",\n      100,\n      0,\n      (uri) => {\n        setProduct({ ...product, image: uri });\n      },\n      \"file\"\n    );\n  };\n\n  const token = localStorage.getItem(`token-${tokenName}`);\n\n  const onChangeTypeRadio = (value) => {\n    let selectedCheckboxes = product.type;\n\n    selectedCheckboxes = value;\n\n    setProduct({ ...product, type: selectedCheckboxes });\n  };\n\n  const onChangeCategoryRadio = (value) => {\n    let selectedCheckboxes = product.category;\n\n    selectedCheckboxes = value;\n\n    setProduct({ ...product, category: selectedCheckboxes });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let formData = new FormData();\n    formData.append(\"name\", product.name);\n    formData.append(\"description\", product.description || \"\");\n    formData.append(\"region\", product.region || \"\");\n    formData.append(\"price\", product.price);\n    formData.append(\"type\", product.type);\n    formData.append(\"category\", product.category || \"\");\n    formData.append(\"subCategory\", product.subCategory || \"\");\n    formData.append(\"choice\", product.choice || false);\n    formData.append(\"visible\", product.visible || true);\n    formData.append(\"image\", product.image || \"\");\n    formData.append(\"showInShop\", product.showInShop || false);\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/products/createProduct`,\n        data: formData,\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (response && response.data.status === 200) {\n            setProducts(response.data.data);\n            setProduct({\n              name: \"\",\n              region: \"\",\n              description: \"\",\n              price: \"\",\n              type: \"\",\n              category: \"\",\n              subCategory: \"\",\n              choice: false,\n              visible: true,\n              image: \"\",\n              showInShop: false,\n            });\n          }\n          setAppMessage({\n            success: response.data.status === 200 ? true : false,\n            message: response.data.message,\n          });\n        })\n        .then(() => {\n          setOpenAddProductModal(false);\n        })\n        .catch((error) =>\n          setAppMessage({\n            success: false,\n            message: \"Il y a eu un probleme, veuillez reessayer\",\n          })\n        )\n        .finally(() => {\n          setLoading(false);\n        });\n    } else {\n      setOpenLoginModal(true);\n    }\n  };\n\n  return (\n    <Modal\n      onClose={() => setOpenAddProductModal(false)}\n      onOpen={() => setOpenAddProductModal(true)}\n      open={openAddProductModal}\n      size=\"small\"\n    >\n      <Header icon>\n        <Icon name=\"add\" />\n        Ajouter un Produit\n      </Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit} id=\"addProduct-form\">\n          <Form.Field required error={!product.name}>\n            <label>Nom du Produit</label>\n            <input\n              value={product.name}\n              name=\"name\"\n              type=\"text\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Description</label>\n            <textarea\n              value={product.description}\n              name=\"description\"\n              rows=\"5\"\n              cols=\"33\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Rgion</label>\n            <input\n              value={product.region}\n              name=\"region\"\n              type=\"text\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field required error={!product.price}>\n            <label>Prix</label>\n            <input\n              min={1}\n              step={0.1}\n              value={product.price}\n              name=\"price\"\n              type=\"number\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field required error={!product.type}>\n            <label>Type de Produit</label>\n            {categories.map(\n              (cat) =>\n                cat.slug && (\n                  <Radio\n                    style={{ padding: 5 }}\n                    key={cat.slug}\n                    label={cat.name}\n                    name={cat.slug}\n                    value={cat.slug}\n                    onChange={() => onChangeTypeRadio(cat.slug)}\n                    checked={product.type === cat.slug}\n                  />\n                )\n            )}\n          </Form.Field>\n          {(product.type === \"cave\" || product.type === \"spuntinu\"  || product.type === \"epicerie\") && (\n            <Form.Field required error={!product.category}>\n              <label>Categorie de Produit</label>\n              {categories.map(\n                (cat) =>\n                  cat[\"slug\"] === product.type &&\n                  cat.subCategories?.map((subC) => (\n                    <Radio\n                      style={{ padding: 5 }}\n                      key={subC.slug}\n                      label={subC.name}\n                      name={subC.slug}\n                      value={subC.slug}\n                      onChange={() => onChangeCategoryRadio(subC.slug)}\n                      checked={product.category === subC.slug}\n                    />\n                  ))\n              )}\n            </Form.Field>\n          )}\n          <Form.Field>\n            <label>Choix du Patron ?</label>\n            <Radio\n              toggle\n              checked={product.choice}\n              onChange={() =>\n                setProduct({ ...product, choice: !product.choice })\n              }\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Shoppable ?</label>\n            <Radio\n              toggle\n              checked={product.showInShop}\n              onChange={() =>\n                setProduct({ ...product, showInShop: !product.showInShop })\n              }\n            />\n          </Form.Field>\n          <Form.Field>\n            <input\n              ref={inputFile}\n              accept=\"image/*\"\n              id=\"addImage\"\n              files={product.image}\n              type=\"file\"\n              hidden\n              onChange={(e) => setImage(e)}\n            />\n            <Button\n              disabled={loading}\n              loading={loading}\n              type=\"button\"\n              onClick={() => inputFile.current.click()}\n              color=\"orange\"\n              inverted\n            >\n              Ajouter une image\n            </Button>\n          </Form.Field>\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          disabled={\n            loading ||\n            !product.name ||\n            !product.price ||\n            !product.type ||\n            ((product.type === \"cave\" || product.type === \"spuntinu\" ||product.type === \"epicerie\") &&\n              !product.category)\n          }\n          loading={loading}\n          color=\"green\"\n          type=\"submit\"\n          form=\"addProduct-form\"\n          inverted\n        >\n          <Icon name=\"add\" /> Ajouter\n        </Button>\n        <Button\n          disabled={loading}\n          loading={loading}\n          color=\"red\"\n          type=\"submit\"\n          form=\"addProduct-form\"\n          inverted\n          onClick={() => setOpenAddProductModal(false)}\n        >\n          <Icon name=\"remove\" /> Annuler\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default AddProductModal;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, Header, Icon, Modal, Radio } from \"semantic-ui-react\";\nimport categories from \"../../../../datas/categories\";\nimport { $SERVER, tokenName } from \"../../../../_const/_const\";\n\nconst EditProductModal = ({\n  product,\n  setOpenEditProductModal,\n  openEditProductModal,\n  setOpenLoginModal,\n  setAppMessage,\n  setProducts,\n}) => {\n  const { image, ...p } = product;\n\n  const [editedProduct, setEditedProduct] = useState({\n    name: p.name,\n    region: p.region,\n    description: p.description,\n    price: p.price,\n    type: p.type,\n    category: p.category,\n    subCategory: p.subCategory,\n    choice: p.choice,\n    visible: p.visible,\n    showInShop: p.showInShop,\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setEditedProduct({ ...p });\n  }, [product]);\n\n  const changeProduct = (e) => {\n    let updatedValue = {};\n    updatedValue[e.target.name] = e.target.value;\n    setEditedProduct({ ...editedProduct, ...updatedValue });\n  };\n\n  const token = localStorage.getItem(`token-${tokenName}`);\n\n  const onChangeTypeRadio = (value) => {\n    let selectedCheckboxes = editedProduct.type;\n\n    selectedCheckboxes = value;\n\n    setEditedProduct({ ...editedProduct, type: selectedCheckboxes });\n  };\n\n  const onChangeCategoryRadio = (value) => {\n    let selectedCheckboxes = editedProduct.category;\n\n    selectedCheckboxes = value;\n\n    setEditedProduct({ ...editedProduct, category: selectedCheckboxes });\n  };\n\n  useEffect(() => {\n    if (\n      editedProduct.category !== \"rouges\" ||\n      editedProduct.category !== \"blancs\"\n    ) {\n      setEditedProduct({ ...editedProduct, subCategory: \"\" });\n    }\n  }, [editedProduct.category]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/products/updateProduct`,\n        data: {\n          update: editedProduct,\n          productId: p._id,\n        },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (response && response.data.status === 200) {\n            setProducts(response.data.data);\n          }\n          setAppMessage({\n            success: response.data.status === 200 ? true : false,\n            message: response.data.message,\n          });\n        })\n        .catch((error) => {\n          setAppMessage({\n            success: false,\n            message: \"Il y a eu un probleme, veuillez reessayer\",\n          });\n        })\n        .finally(() => {\n          setLoading(false);\n          setOpenEditProductModal(false);\n        });\n    } else {\n      setOpenEditProductModal(false);\n      setOpenLoginModal(true);\n    }\n  };\n\n  return (\n    <Modal\n      onClose={() => setOpenEditProductModal(false)}\n      onOpen={() => setOpenEditProductModal(true)}\n      open={openEditProductModal}\n      size=\"small\"\n    >\n      <Header icon>\n        <Icon name=\"edit\" />\n        Editer {p.name}\n      </Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit} id=\"editProduct-form\">\n          <Form.Field required error={!editedProduct.name}>\n            <label>Nom du Produit</label>\n            <input\n              value={editedProduct.name}\n              name=\"name\"\n              type=\"text\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Description</label>\n            <textarea\n              value={editedProduct.description}\n              name=\"description\"\n              rows=\"5\"\n              cols=\"33\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Rgion</label>\n            <input\n              value={editedProduct.region}\n              name=\"region\"\n              type=\"text\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field required error={!editedProduct.price}>\n            <label>Prix</label>\n            <input\n              min={1}\n              step={0.1}\n              value={editedProduct.price}\n              name=\"price\"\n              type=\"number\"\n              onChange={(e) => changeProduct(e)}\n            />\n          </Form.Field>\n          <Form.Field required error={!editedProduct.type}>\n            <label>Type de Produit</label>\n            {categories.map(\n              (cat) =>\n                cat.slug && (\n                  <Radio\n                    style={{ padding: 5 }}\n                    key={cat.slug}\n                    label={cat.name}\n                    name={cat.slug}\n                    value={cat.slug}\n                    onChange={() => onChangeTypeRadio(cat.slug)}\n                    checked={editedProduct.type === cat.slug}\n                  />\n                )\n            )}\n          </Form.Field>\n          {(editedProduct.type === \"cave\" ||\n            editedProduct.type === \"spuntinu\" ||\n            product.type === \"epicerie\") && (\n            <Form.Field required error={!editedProduct.category}>\n              <label>Categorie de Produit</label>\n              {categories.map(\n                (cat) =>\n                  cat[\"slug\"] === editedProduct.type &&\n                  cat.subCategories?.map((subC) => (\n                    <Radio\n                      style={{ padding: 5 }}\n                      key={subC.slug}\n                      label={subC.name}\n                      name={subC.slug}\n                      value={subC.slug}\n                      onChange={() => onChangeCategoryRadio(subC.slug)}\n                      checked={editedProduct.category === subC.slug}\n                    />\n                  ))\n              )}\n            </Form.Field>\n          )}\n          <Form.Field>\n            <label>Choix du Patron ?</label>\n            <Radio\n              toggle\n              checked={editedProduct.choice}\n              onChange={() =>\n                setEditedProduct({\n                  ...editedProduct,\n                  choice: !editedProduct.choice,\n                })\n              }\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Shoppable ?</label>\n            <Radio\n              toggle\n              checked={editedProduct.showInShop}\n              onChange={() =>\n                setEditedProduct({\n                  ...editedProduct,\n                  showInShop: !editedProduct.showInShop,\n                })\n              }\n            />\n          </Form.Field>\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          disabled={\n            loading ||\n            !editedProduct.name ||\n            !editedProduct.price ||\n            !editedProduct.type ||\n            ((editedProduct.type === \"cave\" ||\n              editedProduct.type === \"spuntinu\" ||\n              product.type === \"epicerie\") &&\n              !editedProduct.category)\n          }\n          loading={loading}\n          color=\"purple\"\n          type=\"submit\"\n          form=\"editProduct-form\"\n          inverted\n        >\n          <Icon name=\"edit\" /> Editer\n        </Button>\n        <Button\n          disabled={loading}\n          loading={loading}\n          color=\"red\"\n          type=\"submit\"\n          form=\"editProduct-form\"\n          inverted\n          onClick={() => setOpenEditProductModal(false)}\n        >\n          <Icon name=\"remove\" /> Annuler\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default EditProductModal;\n","import React from \"react\";\nimport { Header, Modal } from \"semantic-ui-react\";\n\nconst ImageModal = ({ openImageModal, setOpenImageModal, product }) => {\n  const { image, name } = product;\n\n  const arrayBufferToBase64 = (buffer) => {\n    let binary = \"\";\n    const bytes = [].slice.call(new Uint8Array(buffer));\n    bytes.forEach((b) => (binary += String.fromCharCode(b)));\n    return window.btoa(binary);\n  };\n\n  const base64Flag = `data:${image?.contentType};base64,`;\n  const imageStr = arrayBufferToBase64(image?.data?.data);\n  return (\n    <Modal\n      closeIcon\n      basic\n      open={openImageModal}\n      onClose={() => setOpenImageModal(false)}\n    >\n      <Header>{name}</Header>\n      <Modal.Content>\n        <img\n          style={{ width: \"100%\" }}\n          src={base64Flag + imageStr}\n          alt={name}\n        />\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default ImageModal;\n","import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Button, Form, Header, Icon, Modal } from \"semantic-ui-react\";\nimport { $SERVER, tokenName } from \"../../../../_const/_const\";\n\nconst Login = ({\n  setOpenLoginModal,\n  openLoginModal,\n  setUser,\n  setAppMessage,\n}) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    axios({\n      method: \"post\",\n      url: `${$SERVER}/auth/login`,\n      data: {\n        email,\n        password,\n      },\n    })\n      .then((response) => {\n        setUser(response.data.user);\n        setAppMessage({\n          success: response.data.status === 200 ? true : false,\n          message: response.data.message,\n        });\n        localStorage.setItem(`token-${tokenName}`, response.data.token);\n        setOpenLoginModal(false);\n      })\n      .catch((error) => {\n        setAppMessage({\n          success: false,\n          message: \"il y a eu un problme durant la connexion\",\n        });\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n  return (\n    <Modal\n      onClose={() => setOpenLoginModal(false)}\n      onOpen={() => setOpenLoginModal(true)}\n      open={openLoginModal}\n      size=\"small\"\n    >\n      <Header icon>\n        <Icon name=\"user\" />\n        Se Connecter\n      </Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit} id=\"auth-form\">\n          <Form.Field>\n            <label>E-Mail</label>\n            <input\n              value={email}\n              type=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Mot de passe</label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Form.Field>\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          color=\"green\"\n          loading={loading}\n          type=\"submit\"\n          form=\"auth-form\"\n          disabled={email.length === 0 || password.length === 0 ||loading}\n          inverted\n        >\n          <Icon name=\"checkmark\" /> Connexion\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default Login;\n","import { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Header, Icon, Modal, Form, Button, Message } from \"semantic-ui-react\";\nimport { calculateDate, getCartAmount } from \"../../../../utils/functions\";\nimport { $SERVER, collectHour } from \"../../../../_const/_const\";\nimport \"./paymentModal.css\";\n\nconst PaymentModal = ({\n  setOpenPaymentModal,\n  openPaymentModal,\n  setOrder,\n  order,\n  setCart,\n  socket,\n  tableNumber,\n}) => {\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const [newOrder, setNewOrder] = useState({\n    name: \"\",\n    email: \"\",\n    tableNumber: tableNumber,\n    tel: \"\",\n    date: \"\",\n    items: [],\n    status: \"\",\n    transaction: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [succeeded, setSucceeded] = useState(false);\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState(\"\");\n\n  const cardStyle = {\n    style: {\n      base: {\n        color: \"#32325d\",\n        fontFamily: \"Arial, sans-serif\",\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        \"::placeholder\": {\n          color: \"#32325d\",\n        },\n      },\n      invalid: {\n        color: \"#fa755a\",\n        iconColor: \"#fa755a\",\n      },\n    },\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    if (openPaymentModal) {\n      setNewOrder({ ...newOrder, tableNumber });\n      const fetchData = async () => {\n        const response = await axios({\n          method: \"post\",\n          url: `${$SERVER}/api/orders/create-payment-intent`,\n          data: { items: order },\n        });\n\n        if (response && response.data.status === 200) {\n          setClientSecret(response.data.clientSecret);\n          setLoading(false);\n          setNewOrder({ ...newOrder, items: [...order] });\n        } else {\n          setError(\"Il y a eu un problme veuillez recharger la page\");\n        }\n      };\n      fetchData();\n      setError(null);\n    }\n  }, [openPaymentModal]);\n\n  const changeOrder = (e) => {\n    let updatedValue = {};\n    updatedValue[e.target.name] = e.target.value;\n    setNewOrder({ ...newOrder, ...updatedValue });\n  };\n\n  const handleChange = async (event) => {\n    setDisabled(event.empty);\n    setError(event.error ? event.error.message : \"\");\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n\n    if (!stripe || !elements) {\n      setDisabled(true);\n      return;\n    }\n    const payload = await stripe.confirmCardPayment(clientSecret, {\n      receipt_email: newOrder.email,\n      payment_method: {\n        card: elements.getElement(CardElement),\n        billing_details: {\n          email: newOrder.email,\n          name: newOrder.name,\n          phone: newOrder.tel,\n        },\n      },\n    });\n    if (payload.error) {\n      setError(\n        `Le paiement  chou pour la raison suivante : ${payload.error.message}`\n      );\n      setLoading(false);\n    } else {\n      setLoading(true);\n      newOrder.status = \"PAID\";\n      newOrder.transaction = payload;\n      newOrder.date = calculateDate();\n      setNewOrder({ ...newOrder });\n      const createOrder = async () => {\n        const response = await axios({\n          method: \"post\",\n          url: `${$SERVER}/api/orders/createOrder`,\n          data: newOrder,\n        });\n\n        if (response && response.data.status === 200) {\n          socket.emit(\"newOrder\", response.data.order, (error) => {\n            if (error) {\n              alert(error);\n            }\n          });\n          setLoading(false);\n          setOrder([]);\n          setNewOrder({});\n          setCart([]);\n        } else {\n          setError(\"Il y a eu un problme veuillez recharger la page\");\n        }\n      };\n      createOrder();\n      setError(null);\n      setLoading(false);\n      setSucceeded(true);\n    }\n  };\n\n  return (\n    <Modal\n      onClose={() => setOpenPaymentModal(false)}\n      open={openPaymentModal}\n      size=\"small\"\n    >\n      <Header icon>\n        <Icon\n          color={error ? \"red\" : succeeded ? \"green\" : \"blue\"}\n          name={error ? \"remove circle\" : succeeded ? \"check\" : \"dollar sign\"}\n        />\n        <span style={{ color: error ? \"red\" : succeeded ? \"green\" : \"blue\" }}>\n          {error\n            ? \"Paiement chou\"\n            : succeeded\n            ? \"Paiement Reussi\"\n            : loading\n            ? \"Paiement en Cours\"\n            : \"Payer Votre Commande\"}\n        </span>\n        <Message\n          warning\n          header=\"ATTENTION !\"\n          content=\"Les commandes sont traites en 24h , vous pourrez recuperer votre commande ds demain !\"\n        />\n        <div\n          className={\n            succeeded\n              ? \"result-message-container\"\n              : \"result-message-container hidden\"\n          }\n        >\n          <p className={succeeded ? \"result-message\" : \"result-message hidden\"}>\n            Votre rservation est effectue, vous pourrez recuperer votre\n            commande le{\" \"}\n            <span className=\"result-message-date\">{calculateDate()} </span>\n            partir de{\" \"}\n            <span className=\"result-message-date\"> {collectHour}</span>\n          </p>\n          <p className={succeeded ? \"result-message\" : \"result-message hidden\"}>\n            chez Piuma au 42 Cours Napolon\n          </p>\n        </div>\n      </Header>\n      {!succeeded && (\n        <Modal.Content>\n          <div className=\"cart-total\">\n            <span style={{ color: \"black\" }}>\n              Total: {getCartAmount(order).toFixed(2)} <small></small>\n            </span>\n          </div>\n          <Form onSubmit={handleSubmit} id=\"payment-form\" loading={loading}>\n            <Form.Field required>\n              <label>Nom sur votre carte</label>\n              <input\n                value={newOrder.name}\n                name=\"name\"\n                type=\"text\"\n                onChange={(e) => changeOrder(e)}\n              />\n            </Form.Field>\n            <Form.Field required>\n              <label>Numro de table</label>\n              <input\n                value={newOrder.tableNumber}\n                name=\"tableNumber\"\n                type=\"text\"\n                onChange={(e) => changeOrder(e)}\n              />\n            </Form.Field>\n            <Form.Field required>\n              <label>Votre Email</label>\n              <input\n                value={newOrder.email}\n                name=\"email\"\n                type=\"email\"\n                onChange={(e) => changeOrder(e)}\n              />\n            </Form.Field>\n            <Form.Field required>\n              <label>Votre Telephone</label>\n              <input\n                value={newOrder.tel}\n                name=\"tel\"\n                type=\"tel\"\n                onChange={(e) => changeOrder(e)}\n              />\n            </Form.Field>\n            <CardElement\n              id=\"card-element\"\n              options={cardStyle}\n              onChange={handleChange}\n            />\n          </Form>\n        </Modal.Content>\n      )}\n      <Modal.Actions>\n        {!succeeded ? (\n          <>\n            <Button\n              form=\"payment-form\"\n              type=\"submit\"\n              color=\"blue\"\n              size=\"massive\"\n              disabled={\n                loading ||\n                disabled ||\n                succeeded ||\n                !stripe ||\n                !newOrder.name ||\n                !newOrder.email ||\n                !newOrder.tableNumber ||\n                !newOrder.items.length === 0 ||\n                !newOrder.tel\n              }\n              loading={loading}\n            >\n              Payer\n            </Button>\n            <Button\n              type=\"button\"\n              color=\"orange\"\n              size=\"massive\"\n              onClick={() => setOpenPaymentModal(false)}\n            >\n              Retour au Panier\n            </Button>\n          </>\n        ) : (\n          <Link to=\"/categories/spuntinu\">\n            <Button\n              style={{ alignItems: \"center\" }}\n              type=\"button\"\n              color=\"green\"\n              size=\"massive\"\n              onClick={() => setOpenPaymentModal(false)}\n            >\n              Retour  la boutique\n            </Button>\n          </Link>\n        )}\n        {error && (\n          <div className=\"card-error\" role=\"alert\">\n            {error}\n          </div>\n        )}\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default PaymentModal;\n","import axios from \"axios\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Button,\n  Container,\n  Form,\n  Header,\n  Icon,\n  Modal,\n} from \"semantic-ui-react\";\nimport Resizer from \"react-image-file-resizer\";\nimport { $SERVER, tokenName } from \"../../../../_const/_const\";\n\nconst UpdateImageModal = ({\n  openUpdateImageModal,\n  setOpenUpdateImageModal,\n  product,\n  setProducts,\n  setOpenLoginModal,\n  setAppMessage,\n}) => {\n  const [image, setImage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const updateFile = useRef(null);\n\n  const { _id, name, image: productImage } = product;\n\n  const handleChangeImage = (image) => {\n    let showimage = document.querySelector(\".showimage\");\n    let reader = new FileReader();\n    if (showimage) {\n      reader.onload = () => {\n        showimage.src = reader.result;\n      };\n      reader.readAsDataURL(image);\n    }\n  };\n  useEffect(() => {\n    if (image) {\n      handleChangeImage(image);\n    }\n  }, [image]);\n\n  const handleSubmitImage = (e) => {\n    e.preventDefault();\n    let imageFormData = new FormData();\n    imageFormData.append(\"image\", image);\n    const token = localStorage.getItem(`token-${tokenName}`);\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/products/updateProductImage/${_id}`,\n        data: imageFormData,\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (response && response.data.status === 200) {\n            setProducts(response.data.data);\n            setAppMessage({\n              success: response.data.status === 200 ? true : false,\n              message: response.data.message,\n            });\n          } else {\n            setAppMessage({\n              success: response.data.status === 200 ? true : false,\n              message: response.data.message,\n            });\n          }\n        })\n        .then(() => {\n          setOpenUpdateImageModal(false);\n          setImage(\"\");\n        })\n        .catch((error) => console.log(error))\n        .finally(() => setLoading(false));\n    } else {\n      setOpenUpdateImageModal(false);\n      setOpenLoginModal(true);\n    }\n  };\n  const token = localStorage.getItem(`token-${tokenName}`);\n\n  const handleDeleteImage = () => {\n    if (token) {\n      setLoading(true);\n      axios({\n        method: \"post\",\n        url: `${$SERVER}/api/products/updateProduct`,\n        data: {\n          update: { image: \"\" },\n          productId: _id,\n        },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          setProducts(response.data.data);\n          setAppMessage({\n            success: response.data.status === 200 ? true : false,\n            message: \"Image supprime avec succs\",\n          });\n        })\n        .catch((error) => console.log(error))\n        .finally(() => {\n          setLoading(false);\n          setOpenUpdateImageModal(false);\n        });\n    } else {\n      setOpenUpdateImageModal(false);\n      setOpenLoginModal(true);\n    }\n  };\n\n  const arrayBufferToBase64 = (buffer) => {\n    let binary = \"\";\n    const bytes = [].slice.call(new Uint8Array(buffer));\n    bytes.forEach((b) => (binary += String.fromCharCode(b)));\n    return window.btoa(binary);\n  };\n\n  const base64Flag = `data:${productImage?.contentType};base64,`;\n  const imageStr = arrayBufferToBase64(productImage?.data?.data);\n  return (\n    <Modal\n      open={openUpdateImageModal}\n      onClose={() => setOpenUpdateImageModal(false)}\n    >\n      <Header icon>\n        <Icon name=\"image\" />\n        Editer l'image\n      </Header>\n      {(productImage || image) && (\n        <Container>\n          <img\n            className=\"showimage\"\n            style={{ width: \"100%\", height: \"100%\" }}\n            src={base64Flag + imageStr}\n            alt={name}\n          />\n        </Container>\n      )}\n      <Modal.Content>\n        <Form onSubmit={handleSubmitImage} id=\"editImage-form\">\n          <Form.Field>\n            <input\n              ref={updateFile}\n              accept=\"image/*\"\n              id=\"addImage\"\n              files={image}\n              type=\"file\"\n              hidden\n              onChange={(e) => {\n                Resizer.imageFileResizer(\n                  e.target.files[0],\n                  400,\n                  400,\n                  \"JPEG\",\n                  100,\n                  0,\n                  (uri) => {\n                    setImage(uri);\n                  },\n                  \"file\"\n                );\n              }}\n            />\n            <Button\n              disabled={loading}\n              loading={loading}\n              type=\"button\"\n              onClick={() => updateFile.current.click()}\n              color=\"orange\"\n              inverted\n            >\n              Modifier l'image\n            </Button>\n          </Form.Field>\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        {image && (\n          <Button\n            loading={loading}\n            disabled={loading}\n            color=\"green\"\n            type=\"submit\"\n            form=\"editImage-form\"\n            inverted\n          >\n            <Icon name=\"add\" /> Envoyer l'image pour {name}\n          </Button>\n        )}\n        {productImage && (\n          <Button\n            loading={loading}\n            disabled={loading}\n            type=\"button\"\n            color=\"red\"\n            form=\"editImage-form\"\n            inverted\n            onClick={handleDeleteImage}\n          >\n            <Icon name=\"delete\" /> Supprimer l'image pour {name}\n          </Button>\n        )}\n        <Button\n          loading={loading}\n          disabled={loading}\n          color=\"red\"\n          type=\"submit\"\n          form=\"editImage-form\"\n          inverted\n          onClick={() => setOpenUpdateImageModal(false)}\n        >\n          <Icon name=\"remove\" /> Annuler\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default UpdateImageModal;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Divider, Grid, Menu, Segment, Sidebar } from \"semantic-ui-react\";\nimport categories from \"../../../datas/categories\";\nimport \"./categoriessidebar.css\";\nconst CategoriesSidebar = ({\n  selectedCategory,\n  setActiveMenu,\n  activeMenu,\n  products,\n  setFilteredProducts,\n  setSelectedCategory,\n  sidebarVisible,\n  setSidebarVisible,\n  children,\n}) => {\n  useEffect(() => {\n    if (selectedCategory) {\n      setActiveMenu(\"\");\n      setFilteredProducts([]);\n      setFilteredProducts(\n        products.filter(\n          (p) => p.type === selectedCategory.slug && p.category === activeMenu\n        )\n      );\n    }\n    if (\n      selectedCategory.slug === \"cave\" ||\n      selectedCategory.slug === \"spuntinu\" ||\n      selectedCategory.slug === \"epicerie\"\n    ) {\n      if (\n        selectedCategory.subCategories.find((subc) => subc.slug === activeMenu)\n      ) {\n        setActiveMenu(activeMenu);\n      } else {\n        setActiveMenu(selectedCategory.subCategories[0].slug);\n      }\n    } else {\n      setFilteredProducts(\n        products.filter((p) => p.type === selectedCategory.slug)\n      );\n    }\n  }, [selectedCategory]);\n  return (\n    <Grid columns={1}>\n      <Grid.Column>\n        <Sidebar.Pushable as={Segment}>\n          <Sidebar\n            style={{ background: \"white\" }}\n            as={Menu}\n            animation=\"overlay\"\n            icon=\"labeled\"\n            onHide={() => setSidebarVisible(false)}\n            onShow={() => setSidebarVisible(true)}\n            vertical\n            visible={sidebarVisible}\n            width=\"thin\"\n          >\n            <Link to={`/`} onClick={() => setSelectedCategory({})}>\n              <Menu.Item className=\"categories-sidebar-item\">\n                <Menu.Header>\n                  <img\n                    width=\"100px\"\n                    src=\"./assets/images/logo.png\"\n                    alt=\"logo piuma\"\n                  />\n                </Menu.Header>\n              </Menu.Item>\n            </Link>\n            <Divider />\n            {categories.map((category) => (\n              <Link\n                key={category.slug}\n                to={`/categories/${category.slug}`}\n                onClick={() => {\n                  setSelectedCategory(category);\n                  setSidebarVisible(false);\n                }}\n              >\n                <Menu.Item className=\"categories-sidebar-item\">\n                  <Menu.Header>{category.icon}</Menu.Header>\n                  <span>{category.name}</span>\n                </Menu.Item>\n              </Link>\n            ))}\n          </Sidebar>\n          <Sidebar.Pusher dimmed={sidebarVisible}>\n            <Segment basic>{children}</Segment>\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </Grid.Column>\n    </Grid>\n  );\n};\n\nexport default CategoriesSidebar;\n","import { faFacebook, faInstagram } from \"@fortawesome/free-brands-svg-icons\";\nimport {\n  faEnvelope,\n  faHeart,\n  faPhone,\n} from \"@fortawesome/pro-duotone-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Divider, Header } from \"semantic-ui-react\";\n\nimport \"./copyright.css\";\nconst Copyright = ({\n  facebookUrl,\n  instagramUrl,\n  email,\n  phoneNumber,\n  backgroundColor,\n  productBackgroundColor,\n  textColor,\n  titleColor,\n}) => {\n  return (\n    <div className=\"footer\">\n      <div>\n        <Header as=\"h3\">Retrouvez nous sur : </Header>\n      </div>\n      <div className=\"footer__icons\">\n        <a\n          target=\"_blank\"\n          href=\"fb://profile/104822281341917\"\n          rel=\"noreferrer\"\n        >\n          <FontAwesomeIcon\n            style={{\n              color: \"#3B5998\",\n              background: \"white\",\n              borderRadius: \"100%\",\n            }}\n            size=\"3x\"\n            icon={faFacebook}\n            pull=\"left\"\n          />\n        </a>\n        <a\n          target=\"_blank\"\n          href=\"https://www.instagram.com/a_piuma_/?hl=fr\"\n          rel=\"noreferrer\"\n        >\n          <FontAwesomeIcon\n            style={{ color: \"#3F729B\", borderRadius: \"100%\" }}\n            size=\"3x\"\n            icon={faInstagram}\n            pull=\"right\"\n          />\n        </a>\n      </div>\n      <Divider />\n      <div>\n        <Header as=\"h3\">Contactez nous ! </Header>\n      </div>\n      <div className=\"footer__icons\">\n        <a href={`mailto:cafe-rotisserie@piuma.corsica`}>\n          <FontAwesomeIcon\n            style={{\n              \"--fa-primary-color\": \"white\",\n              \"--fa-secondary-color\": \"black\",\n              \"--fa-secondary-opacity\": 0.8,\n            }}\n            size=\"3x\"\n            icon={faEnvelope}\n            pull=\"left\"\n          />\n        </a>\n        <a href={`tel:06 23 47 66 66`}>\n          <FontAwesomeIcon\n            style={{\n              \"--fa-primary-color\": \"firebrick\",\n              \"--fa-secondary-color\": \"black\",\n              \"--fa-primary-opacity\": 1,\n              \"--fa-secondary-opacity\": 1,\n            }}\n            size=\"3x\"\n            icon={faPhone}\n            pull=\"right\"\n          />\n        </a>\n      </div>\n      <Divider />\n      <div className=\"footer__copyright\" style={{ color: \"black\" }}>\n        {\"Copyright  \"}\n        <a style={{ color: \"black\" }} href=\"https://piuma.corsica\">\n          <span>Piuma &nbsp;</span>\n        </a>\n        <span>{` ${new Date().getFullYear()}. `}</span>\n      </div>\n      <div className=\"footer__alvp\">\n        <a\n          style={{ color: \"black\", fontSize: \"1em\" }}\n          href=\"mailto:pef@alvp-developments.com\"\n        >\n          Made with\n          <FontAwesomeIcon\n            className=\"alvp__icon\"\n            color=\"darkred\"\n            icon={faHeart}\n            size=\"2x\"\n          />\n          by ALVP-Developments Ajaccio\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default Copyright;\n","import {\n  faBars,\n  faShoppingBasket,\n  faUser,\n} from \"@fortawesome/pro-duotone-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Dropdown } from \"semantic-ui-react\";\nimport { getCartAmount } from \"../../../utils/functions\";\nimport { showShop } from \"../../../_const/_const\";\nimport \"./topappbar.css\";\n\nconst TopAppBar = ({\n  setSelectedCategory,\n  setSidebarVisible,\n  setOpenLoginModal,\n  user,\n  loading,\n  cart,\n  isAProductShoppable\n}) => {\n  const [open, setOpen] = useState(false);\n\n\n  return (\n    <div className=\"topappbar\">\n      <Link to=\"/\" onClick={() => setSelectedCategory({})}>\n        <div className=\"topappbar-image\">\n          <img width=\"100px\" src=\"./assets/images/logo.png\" alt=\"logo piuma\" />\n        </div>\n      </Link>\n      <div className=\"topappbar-icons\">\n        <Button\n          disabled={loading}\n          loading={loading}\n          icon\n          circular\n          color={user ? \"green\" : \"grey\"}\n          onClick={() => setOpenLoginModal(true)}\n        >\n          <FontAwesomeIcon size=\"2x\" icon={faUser} />\n        </Button>\n        <Button\n          disabled={loading}\n          loading={loading}\n          icon\n          circular\n          onClick={() => setSidebarVisible(true)}\n        >\n          <FontAwesomeIcon size=\"2x\" icon={faBars} />\n        </Button>\n        {showShop && isAProductShoppable  && (\n          <Link to=\"/panier\">\n            <Button\n              disabled={loading}\n              loading={loading}\n              color={\"orange\"}\n              icon\n              circular\n              onClick={() => console.log(\"cart clicked\")}\n            >\n              <span\n                style={{ position: \"relative\" }}\n                className=\"fa-layers fa-2x fa-fw\"\n              >\n                <FontAwesomeIcon icon={faShoppingBasket} />\n                <span\n                  style={{ position: \"absolute\", top: \"-23px\", right: \"-12px\" }}\n                  className=\"fa-layers-top-right fa-layers-counter fa-2x\"\n                >\n                  {cart.length}\n                </span>\n              </span>\n            </Button>\n          </Link>\n        )}\n      </div>\n      {showShop && getCartAmount(cart) !== 0 && (\n        <span className=\"cartamount\">\n          Montant dans votre panier : {getCartAmount(cart).toFixed(2)}\n          <small></small>\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default TopAppBar;\n","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Label, List, Table, TableCell } from \"semantic-ui-react\";\nimport { $SERVER, tokenName } from \"../../_const/_const\";\n\nconst Orders = ({ socket }) => {\n  const [allOrders, setAllOrders] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const [barReady, setBarReady] = useState(false);\n  const [cuisineReady, setCuisineReady] = useState(false);\n\n  const token = localStorage.getItem(`token-${tokenName}`);\n\n  const getOrders = async () => {\n    setLoading(true);\n    let response = await axios({\n      method: \"get\",\n      url: `${$SERVER}/api/orders/allOrders`,\n      headers: {\n        Authorization: \"Bearer \" + token,\n      },\n    });\n\n    if (response && response.data.status === 200) {\n      setAllOrders([...response.data.orders]);\n      setLoading(false);\n    }\n  };\n\n  const updateOrder = async (update, orderId) => {\n    setLoading(true);\n    let response = await axios({\n      method: \"post\",\n      url: `${$SERVER}/api/orders/updateOrder`,\n      data: { update, orderId },\n      headers: {\n        Authorization: \"Bearer \" + token,\n      },\n    });\n\n    if (response && response.data.status === 200) {\n      setLoading(false);\n      setBarReady(false);\n      setCuisineReady(false);\n      const { foundOrder } = response.data;\n      socket.emit(\"sendOrderToWaiter\", foundOrder);\n    }\n  };\n\n  useEffect(() => {\n    getOrders();\n    socket.on(\"sendOrder\", (newOrder) => {\n      if (allOrders) {\n        setAllOrders((allOrders) => [newOrder, ...allOrders]);\n      }\n    });\n  }, []);\n\n  const validateBarOrder = (order) => {\n    let validatedOrder = { ...order };\n    setBarReady(true);\n    validatedOrder.status =\n      checkIfOrderItemContainsType(validatedOrder.items, \"aujourd'hui\") &&\n      !cuisineReady\n        ? \"ATTENTE CUISINE\"\n        : \"PRTE\";\n    let index = allOrders.findIndex((o) => o._id === order._id);\n    let newAllOrders = [...allOrders];\n    newAllOrders[index] = validatedOrder;\n    newAllOrders.splice(index, 1);\n    setAllOrders([validatedOrder, ...newAllOrders]);\n    if (validatedOrder.status === \"PRTE\") {\n      updateOrder({ status: validatedOrder.status }, validatedOrder._id);\n    }\n  };\n\n  const validateCuisineOrder = (order) => {\n    let validatedOrder = { ...order };\n    setCuisineReady(true);\n    validatedOrder.status =\n      checkIfOrderItemContainsType(validatedOrder.items, \"cave\") && !barReady\n        ? \"ATTENTE BAR\"\n        : \"PRTE\";\n    let index = allOrders.findIndex((o) => o._id === order._id);\n    let newAllOrders = [...allOrders];\n    newAllOrders[index] = validatedOrder;\n    newAllOrders.splice(index, 1);\n    setAllOrders([validatedOrder, ...newAllOrders]);\n    if (validatedOrder.status === \"PRTE\") {\n      updateOrder({ status: validatedOrder.status }, validatedOrder._id);\n    }\n  };\n\n  const checkIfOrderItemContainsType = (items, string) => {\n    return !!items.find((item) => item.type === string);\n  };\n\n  const renderTableRows = () =>\n    allOrders\n      ?.sort((a, b) => new Date(b.date) - new Date(a.date))\n      .map((order, index) => {\n        const { tableNumber, date, amount, transaction, status, items } = order;\n        return (\n          <>\n            <Table.Row positive={status === \"PRTE\"}>\n                <Table.Cell>\n              {status === \"PAID\" && (\n                  <Label ribbon color=\"green\">\n                    New\n                  </Label>\n              )}\n                </Table.Cell>\n              <TableCell>{tableNumber}</TableCell>\n              <TableCell>{date}</TableCell>\n              <TableCell>\n                {amount?.toFixed(2)} <small></small>\n              </TableCell>\n              <TableCell\n                style={{\n                  color:\n                    status === \"ATTENTE CUISINE\"\n                      ? \"red\"\n                      : status === \"ATTENTE BAR\"\n                      ? \"blue\"\n                      : \"lime\",\n                }}\n              >\n                {status}\n              </TableCell>\n              <TableCell>{transaction.paymentIntent.id}</TableCell>\n              <TableCell>\n                <List>\n                  {items.map((item) => {\n                    const { name, type, category, region, infos } = item;\n                    return (\n                      <List.Item>\n                        <div\n                          style={{\n                            fontSize: \"1.3em\",\n                            lineHeight: \"1.3\",\n                            color: type === \"aujourd'hui\" ? \"red\" : \"blue\",\n                          }}\n                        >\n                          <span> {name} </span>\n                          <span>{category} </span>\n                          <span>{region} </span>\n                          <p\n                            style={{\n                              color: \"green\",\n                              textTransform: \"uppercase\",\n                            }}\n                          >\n                            {infos}{\" \"}\n                          </p>\n                        </div>\n                      </List.Item>\n                    );\n                  })}\n                </List>\n              </TableCell>\n              <TableCell textAlign=\"center\">\n                {items.find((item) => item.type === \"cave\") && (\n                  <>\n                    <Button\n                      disabled={loading || status === \"PRTE\" || barReady}\n                      loading={loading}\n                      type=\"button\"\n                      color=\"blue\"\n                      content=\"Bar Prt\"\n                      onClick={() => validateBarOrder(order)}\n                    />\n                  </>\n                )}\n                {items.find((item) => item.type === \"aujourd'hui\") && (\n                  <Button\n                    disabled={loading || status === \"PRTE\" || cuisineReady}\n                    loading={loading}\n                    type=\"button\"\n                    color=\"red\"\n                    content=\"Cuisine Prte\"\n                    onClick={() => validateCuisineOrder(order)}\n                  />\n                )}\n              </TableCell>\n            </Table.Row>\n          </>\n        );\n      });\n  return (\n    <Table celled>\n      <Table.Header>\n        <Table.Row>\n        <Table.HeaderCell>New ?</Table.HeaderCell>\n          <Table.HeaderCell>Table</Table.HeaderCell>\n          <Table.HeaderCell>date</Table.HeaderCell>\n          <Table.HeaderCell>Montant</Table.HeaderCell>\n          <Table.HeaderCell>status</Table.HeaderCell>\n          <Table.HeaderCell>Id de Transaction</Table.HeaderCell>\n          <Table.HeaderCell>Commande</Table.HeaderCell>\n          <Table.HeaderCell>Commande prte ?</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>{renderTableRows()}</Table.Body>\n    </Table>\n  );\n};\n\nexport default Orders;\n","import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Label, Table } from \"semantic-ui-react\";\nimport { List } from \"semantic-ui-react\";\nimport { TableCell } from \"semantic-ui-react\";\n\nconst Waiter = ({ socket, user }) => {\n  const [newWaiter, setNewWaiter] = useState({});\n  const [newOrders, setNewOrders] = useState([]);\n  useEffect(() => {\n    socket.on(\"waiterOrder\", (response) => {\n      if (response.waiter._id === user._id) {\n        setNewWaiter(response.waiter);\n        setNewOrders((newOrders) => [response.order, ...newOrders]);\n      }\n    });\n  }, []);\n\n  const renderTableRows = () =>\n    newOrders.map((order, index) => {\n      const { tableNumber, status, items } = order;\n      return (\n        <Table.Row positive={status === \"PRTE\"}>\n          <Table.Cell>\n            {status === \"PAID\" && (\n              <Label ribbon color=\"green\">\n                New\n              </Label>\n            )}\n          </Table.Cell>\n          <TableCell>Table{tableNumber}</TableCell>\n          <TableCell>\n            <List style={{ background: \"grey\" }}>\n              {items.map((item) => {\n                const { name, type, category, region, infos } = item;\n                return (\n                  <List.Item>\n                    <div\n                      style={{\n                        fontSize: \"1.3em\",\n                        lineHeight: \"1.3\",\n                        color: type === \"aujourd'hui\" ? \"red\" : \"blue\",\n                      }}\n                    >\n                      <span\n                        style={\n                          category === \"rouges\"\n                            ? { color: \"darkred\" }\n                            : category === \"roses\"\n                            ? { color: \"#fec5d9\" }\n                            : category === \"blancs\"\n                            ? { color: \"#f1f285\" }\n                            : { color: \"inherit\" }\n                        }\n                      >\n                        {\" \"}\n                        {name}{\" \"}\n                      </span>\n                      <span>{category} </span>\n                      <span>{region} </span>\n                      <p\n                        style={{\n                          color: \"green\",\n                          textTransform: \"uppercase\",\n                        }}\n                      >\n                        {infos}{\" \"}\n                      </p>\n                    </div>\n                  </List.Item>\n                );\n              })}\n            </List>\n          </TableCell>\n        </Table.Row>\n      );\n    });\n  return (\n    <div>\n      <p>Hello, {user.email}</p>\n      <Table celled compact>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Nouvelle ?</Table.HeaderCell>\n            <Table.HeaderCell>Table</Table.HeaderCell>\n            <Table.HeaderCell>Commande</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>{renderTableRows()}</Table.Body>\n      </Table>\n    </div>\n  );\n};\n\nexport default Waiter;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport {HashRouter as Router} from \"react-router-dom\"\nimport 'semantic-ui-css/semantic.min.css'\n\nReactDOM.render(\n    <Router basename=\"/\">\n    <App />\n    </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}